webpackJsonp([1],{"088T":function(t,i){},"1V9r":function(t,i){},"2lMs":function(t,i){},"33cB":function(t,i){},"3rE3":function(t,i){},"5gaN":function(t,i){},"7+T9":function(t,i){},"7Yqo":function(t,i){},"7hrg":function(t,i){t.exports="data:image/jpeg;base64,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"},AhIX:function(t,i){},B1mR:function(t,i){},B1vl:function(t,i){},BWsC:function(t,i){},CWEJ:function(t,i){},CtpB:function(t,i){},EXjI:function(t,i){},Ee59:function(t,i){},F7NO:function(t,i,e){t.exports=e.p+"static/img/loading.b566d1b.gif"},FE4K:function(t,i){},G1tT:function(t,i){},GWqi:function(t,i){},HZll:function(t,i){},IUH2:function(t,i){},IazY:function(t,i){},J373:function(t,i){},Jwzd:function(t,i){},KC8a:function(t,i){},"KY/j":function(t,i){},Lx31:function(t,i){},MeBG:function(t,i){},MkgK:function(t,i){},NHnr:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("7+uW"),a=e("NYxO"),n={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},staticRenderFns:[]};var o=e("VU/8")({name:"App",beforeCreate:function(){this.$store.dispatch("getAcount")}},n,!1,function(t){e("G1tT")},null,null).exports,r=e("NC6I"),l=e.n(r),c=e("zL8q"),u=e.n(c),d=(e("tvR6"),e("/ocq")),m=e("mvHQ"),f=e.n(m),v=e("fZjL"),h=e.n(v),p=e("Dd8w"),g=e.n(p),b=e("pFYg"),y=e.n(b),_=e("mtWM"),C=e.n(_),w=function(t,i,e){var s=i&&"object"===(void 0===i?"undefined":y()(i))?g()({timestamp:Date.now()},i):i||{};return C()({method:"get",url:t,params:s,data:{action:"refreshToken"},headers:{"Cache-control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:0}}).then(function(t){return e&&e(t),t})},k={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"suggest-list"},[i("header",{staticClass:"suggest-list-header"},[this._t("title")],2),this._v(" "),i("main",{staticClass:"suggest-list-main"},[this._t("item",function(){return[i("div",{staticClass:"item"})]})],2)])},staticRenderFns:[]};var I={name:"HeaderMenu",components:{SuggestList:e("VU/8")({},k,!1,function(t){e("Lx31")},"data-v-4ec756a8",null).exports},data:function(){return{keywords:"",hotList:[],historySearchList:[],showInfoTip:!1,suggestInfo:{}}},computed:{showMusic:function(){return Object.hasOwnProperty.call(this.suggestInfo,"songs")},showAlbum:function(){return Object.hasOwnProperty.call(this.suggestInfo,"albums")},showArtist:function(){return Object.hasOwnProperty.call(this.suggestInfo,"artists")},showPlaylist:function(){return Object.hasOwnProperty.call(this.suggestInfo,"playlists")},name:function(){return this.$store.state.isLogin?this.$store.state.profile.nickname:"未登录"},avatarUrl:function(){return this.$store.state.isLogin?this.$store.state.profile.avatarUrl:""}},methods:{toSearch:function(){""!==this.keywords&&(this.$refs.inputRef.blur(),this.$route.path!=="/search/"+this.keywords&&this.$router.push("/search/"+this.keywords),this.setHistory(this.keywords))},getHotSearch:function(){var t=this;w("/api/search/hot/detail").then(function(i){200===i.data.code&&(t.showInfoTip=!0,t.hotList=i.data.data)})},getSuggest:function(t){var i=this;w("/api/search/suggest?keywords="+t).then(function(t){200===t.data.code&&0!==h()(t.data.result).length&&(i.suggestInfo=t.data.result)})},getHistory:function(){window.localStorage.getItem("search")&&(this.historySearchList=JSON.parse(window.localStorage.getItem("search"))instanceof Array?JSON.parse(window.localStorage.getItem("search")):[])},setHistory:function(t){if(t){if(-1!==this.historySearchList.findIndex(function(i){return i===t}))return;this.historySearchList.unshift(t),this.historySearchList=this.historySearchList.slice(0,5),window.localStorage.setItem("search",f()(this.historySearchList))}},clickHot:function(t){""!==t&&(this.keywords=t,this.toSearch())},clearHis:function(){var t=this;this.$confirm("确认清空历史记录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){window.localStorage.removeItem("search"),t.historySearchList=[]})},doLogout:function(){this.$store.state.isLogin||this.$router.push("/login"),this.$store.dispatch("logout")},loginView:function(){if(this.$store.state.isLogin){if(this.$route.path==="/userdetail/"+this.$store.state.account.id)return;this.$router.push("/userdetail/"+this.$store.state.account.id)}else this.$router.push("/login")},handleInput:function(t){var i=this;this.timer&&window.clearTimeout(this.timer),this.timer=window.setTimeout(function(){console.log(t,"timer"),i.getSuggest(t)},500)}}},L={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"header"},[t._m(0),t._v(" "),e("div",{staticClass:"search-input"},[e("el-input",{ref:"inputRef",attrs:{placeholder:"搜索","prefix-icon":"el-icon-search",clearable:""},on:{change:t.toSearch,input:t.handleInput,blur:function(i){t.showInfoTip=!1},focus:t.getHotSearch},model:{value:t.keywords,callback:function(i){t.keywords=i},expression:"keywords"}}),t._v(" "),e("transition",{attrs:{name:"el-fade-in"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.showInfoTip,expression:"showInfoTip"}],staticClass:"search-info-tip"},[e("div",{directives:[{name:"show",rawName:"v-show",value:""===t.keywords,expression:"keywords === ''"}]},[e("div",{directives:[{name:"show",rawName:"v-show",value:0!==t.historySearchList.length,expression:"historySearchList.length !== 0"}],staticClass:"his-search"},[e("div",{staticClass:"hot-title font-14"},[e("span",[t._v("搜索历史")]),t._v(" "),e("button",{staticClass:"no-btn",on:{click:t.clearHis}},[e("i",{staticClass:"el-icon-delete"})])]),t._v(" "),e("div",{staticClass:"his-wrap"},t._l(t.historySearchList,function(i){return e("button",{key:i,staticClass:"btn btn-white his-item font-12",on:{click:function(e){return t.clickHot(i)}}},[t._v("\n              "+t._s(i)+"\n              ")])}),0)]),t._v(" "),e("div",{staticClass:"hot-search"},[e("div",{staticClass:"hot-title font-14"},[t._v("热搜榜")]),t._v(" "),t._l(t.hotList,function(i,s){return e("div",{key:s,staticClass:"hot-item pointer",class:{"top-item":s<3},on:{click:function(e){return t.clickHot(i.searchWord)}}},[e("div",{staticClass:"item-index"},[t._v(t._s(s+1))]),t._v(" "),e("div",{staticClass:"item-info"},[e("div",{staticClass:"key-word"},[e("span",{staticClass:"font-12 item-key"},[t._v(t._s(i.searchWord))]),t._v(" "),e("span",{staticClass:"font-12 mleft-10",staticStyle:{color:"#c2c1c1"}},[t._v("\n                    "+t._s(i.score)+"\n                  ")])]),t._v(" "),e("div",[e("span",{staticClass:"font-12",staticStyle:{color:"#999999"}},[t._v("\n                    "+t._s(i.content)+"\n                  ")])])])])})],2)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:""!==t.keywords,expression:"keywords !== ''"}]},[e("div",{staticClass:"search-suggest"},[e("div",{staticClass:"search-btn-wrap"},[e("button",{staticClass:"no-btn"},[t._v("\n                搜“"+t._s(t.keywords)+"”相关的内容"),e("i",{staticClass:"el-icon-arrow-right"})])]),t._v(" "),t.showMusic?e("SuggestList",{scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"iconfont icon-yinle font-16"}),e("span",{staticClass:"mleft-10"},[t._v("单曲")])]},proxy:!0},{key:"item",fn:function(){return t._l(t.suggestInfo.songs,function(i){return e("div",{key:i.id,staticClass:"item pointer text-hidden",on:{click:function(e){return t.playMusic(i.id)}}},[t._v("\n                  "+t._s(i.name)+" - "+t._s(i.artists[0].name)+"\n                ")])})},proxy:!0}],null,!1,2744397635)}):t._e(),t._v(" "),t.showAlbum?e("SuggestList",{scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"iconfont icon-zhuanji font-16"}),e("span",{staticClass:"mleft-10"},[t._v("专辑")])]},proxy:!0},{key:"item",fn:function(){return t._l(t.suggestInfo.albums,function(i){return e("div",{key:i.id,staticClass:"item pointer text-hidden",on:{click:function(e){return t.toAlbumDetail(i.id)}}},[t._v("\n                  "+t._s(i.name)+" - "+t._s(i.artist.name)+"\n                ")])})},proxy:!0}],null,!1,2640397083)}):t._e(),t._v(" "),t.showArtist?e("SuggestList",{scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"el-icon-user font-16"}),e("span",{staticClass:"mleft-10"},[t._v("歌手")])]},proxy:!0},{key:"item",fn:function(){return t._l(t.suggestInfo.artists,function(i){return e("div",{key:i.id,staticClass:"item pointer text-hidden",on:{click:function(e){return t.toArtistDetail(i.id)}}},[t._v("\n                  "+t._s(i.name)+"\n                ")])})},proxy:!0}],null,!1,2350434459)}):t._e(),t._v(" "),t.showPlaylist?e("SuggestList",{scopedSlots:t._u([{key:"title",fn:function(){return[e("i",{staticClass:"iconfont icon-gedan font-16"}),e("span",{staticClass:"mleft-10"},[t._v("歌单")])]},proxy:!0},{key:"item",fn:function(){return t._l(t.suggestInfo.playlists,function(i){return e("div",{key:i.id,staticClass:"item pointer text-hidden",on:{click:function(e){return t.toPlayListDetail(i.id)}}},[t._v("\n                  "+t._s(i.name)+"\n                ")])})},proxy:!0}],null,!1,442948545)}):t._e()],1)])])])],1),t._v(" "),e("div",{staticClass:"user-login pointer",on:{click:t.loginView}},[e("el-avatar",{attrs:{size:30,icon:"el-icon-user-solid",src:t.avatarUrl}})],1),t._v(" "),e("div",{staticClass:"login-text pointer",on:{click:t.doLogout}},[t._v(t._s(t.name))])])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"logo-wrap"},[i("i",{staticClass:"iconfont icon-logView"})])}]};var A=e("VU/8")(I,L,!1,function(t){e("fTTd")},"data-v-7ddab6df",null).exports,x={name:"MainAside",data:function(){return{activeIndex:"/home",asideList:[{title:"发现音乐",icon:"grape",path:"/home"},{title:"视频",icon:"watermelon",path:"/video"},{title:"私人FM",icon:"cherry",path:"/personalfmpage"},{title:"每日推荐",icon:"pear",path:"/recommendsong"},{title:"我的音乐",icon:"apple",path:"/collection",children:[{index:"1-1",title:"最近播放",icon:"orange",path:"/historyplay"},{index:"1-2",title:"我的收藏",icon:"ice-tea",path:"/collection"}]}]}},created:function(){window.sessionStorage.getItem("activeIndex")&&(this.activeIndex=window.sessionStorage.getItem("activeIndex"))},computed:{noChildren:function(){return this.asideList.filter(function(t){return!t.children})},hasChildren:function(){return this.asideList.filter(function(t){return t.children})},creList:function(){var t=this;return this.$store.state.myPlayList.filter(function(i){return i.userId===t.userId})},subList:function(){var t=this;return this.$store.state.myPlayList.filter(function(i){return i.userId!==t.userId})},userId:function(){return this.$store.state.isLogin?this.$store.state.profile.userId:0}},methods:{handleSelect:function(t,i){console.log(t,i),window.sessionStorage.setItem("activeIndex",t),this.activeIndex=t},songPath:function(t){if("number"==typeof t)return"/playlistdetail/"+t}}},T={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:"","default-active":t.activeIndex},on:{select:t.handleSelect}},[t._l(t.noChildren,function(i){return e("el-menu-item",{key:i.path,attrs:{index:i.path}},[e("i",{class:"el-icon-"+i.icon}),t._v(" "),e("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(i.title))])])}),t._v(" "),t._l(t.hasChildren,function(i){return e("el-menu-item-group",{key:i.path,attrs:{index:i.path}},[e("template",{slot:"title"},[e("i",{class:"el-icon-"+i.icon}),t._v(" "),e("span",[t._v(t._s(i.title))])]),t._v(" "),t._l(i.children,function(i){return e("el-menu-item",{key:i.path,attrs:{index:i.path}},[e("i",{class:"el-icon-"+i.icon}),t._v(" "),e("span",[t._v(t._s(i.title))])])})],2)}),t._v(" "),this.$store.state.isLogin?e("el-menu-item-group",[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-lollipop"}),t._v("\n        创建歌单\n        ")]),t._v(" "),t._l(t.creList,function(i,s){return e("el-menu-item",{key:i.id,attrs:{index:t.songPath(i.id)}},[e("div",{staticClass:"text-hidden",attrs:{slot:"title"},slot:"title"},[e("i",0===s?{staticClass:"iconfont icon-aixin"}:{staticClass:"iconfont icon-gedan"}),t._v(t._s(i.name)+"\n        ")])])})],2):t._e(),t._v(" "),this.$store.state.isLogin?e("el-menu-item-group",[e("template",{slot:"title"},[e("i",{staticClass:"el-icon-ice-cream-round"}),t._v("\n        收藏歌单\n        ")]),t._v(" "),t._l(t.subList,function(i){return e("el-menu-item",{key:i.id,attrs:{index:t.songPath(i.id)}},[e("div",{staticClass:"text-hidden",attrs:{slot:"title"},slot:"title"},[e("i",{staticClass:"iconfont icon-gedan"}),t._v(t._s(i.name)+"\n        ")])])})],2):t._e()],2)],1)},staticRenderFns:[]};var S=e("VU/8")(x,T,!1,function(t){e("HZll")},null,null).exports,D=e("Zrlr"),M=e.n(D),U=e("wxAW"),E=e.n(U),F=function(){function t(i){if(M()(this,t),void 0===i)return this.lines=[{time:1,txt:"解析歌词失败"}],this.total=1,this.curren=0,this.errorLyric=!0,this;var e=i.split("\n"),s=[],a=/\[\d{2}:\d{2}.\d{2,3}\]/;try{e.forEach(function(i){if(""!==i){var e={},n=i.match(a);e.txt=""===i.split("]")[1].trim()?"":i.split("]")[1].trim(),e.time=n?t.formatLyricTime(n[0].slice(1,n[0].length-1)):0,""!==e.txt&&s.push(e)}})}catch(t){return this.lines=[{time:1,txt:"解析歌词失败"}],this.total=1,this.curren=0,this.errorLyric=!0,this}this.lines=s,this.total=s.length,this.curren=0}return E()(t,null,[{key:"formatLyricTime",value:function(t){var i=/\./,e=void 0,s=void 0,a=void 0;try{e=parseInt(t.match(/.*:/)[0].slice(0,2)),s=parseInt(t.match(/:.*\./)[0].slice(1,3)),a=t.slice(t.match(i).index+1,t.match(i).index+3)}catch(t){console.log("出错啦")}return 0!==e&&(s+=60*e),Number(s+"."+a)}}]),t}(),N={name:"LyricWrap",props:{musicId:{type:[Number],required:!1},currenTime:{type:Number,required:!1},lyricAlign:{type:String,default:"center"},width:{type:Number,default:600}},data:function(){return{lyricObj:{lines:[],total:1,curren:0},styleObj:{"text-align":"center",width:"600px"}}},watch:{musicId:{immediate:!0,handler:function(t){t&&this.getLyric()}},currenTime:function(t){t&&this.handleCurrenTime(t)}},created:function(){this.handleTextAlign(this.lyricAlign),this.handleWidth(this.width)},methods:{getLyric:function(){var t=this;w("/api/lyric?id="+this.musicId).then(function(i){i.data.lrc&&(t.lyricObj=new F(i.data.lrc.lyric)),console.log(t.lyricObj,"this.lyricObj"),t.$nextTick(function(){t.$refs.lyricWrapRef.scrollTop=0})})},handleCurrenTime:function(t){this.lyricObj.curren!==this.lyricObj.total-1&&t+.5>this.lyricObj.lines[this.lyricObj.curren+1].time?(this.lyricObj.curren++,this.lyricObj.curren!==this.lyricObj.total-1&&t+.5>this.lyricObj.lines[this.lyricObj.curren+1].time&&this.handleCurrenTime(t),this.lyricHanlder(this.lyricObj.curren)):0!==this.lyricObj.curren&&t-.5<this.lyricObj.lines[this.lyricObj.curren-1].time&&(this.lyricObj.curren--,0!==this.lyricObj.curren&&t-.5<this.lyricObj.lines[this.lyricObj.curren-1].time&&this.handleCurrenTime(t),this.lyricHanlder(this.lyricObj.curren))},lyricHanlder:function(t){t>4?this.scrollAnimation(t-4):this.$refs.lyricWrapRef.scrollTop=0},scrollAnimation:function(t){var i=this,e=void 0;window.requestAnimationFrame(function s(a){void 0===e&&(e=a);var n=a-e;i.$refs.lyricWrapRef.scrollTop=Math.min(.16*n+40*(t-1),40*t),n<250&&window.requestAnimationFrame(s)})},handleTextAlign:function(t){"center"!==t&&"left"!==t&&"right"!==t||(this.styleObj["text-align"]=t)},handleWidth:function(t){t<1200&&(this.styleObj.width=t+"px")}}},$={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{ref:"lyricWrapRef",staticClass:"lyric-wrap",style:t.styleObj},t._l(t.lyricObj.lines,function(i,s){return e("p",{key:s,staticClass:"text-hidden",class:{lyric_active:s===t.lyricObj.curren}},[t._v("\n    "+t._s(i.txt)+"\n  ")])}),0)},staticRenderFns:[]};var V=e("VU/8")(N,$,!1,function(t){e("NnRv")},"data-v-43be7ec0",null).exports,R={props:{item:{type:Object,required:!0},identy:String},methods:{toUserDetail:function(t){this.$emit("clickUser",t)},like:function(t,i){this.$emit("like",{cid:t,liked:i,identy:this.identy})},reply:function(t,i){this.$emit("reply",{cid:t,name:i})}}},P={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"comment-item"},[e("div",{staticClass:"comment_main"},[e("div",{staticClass:"img-wrap"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.item.user.avatarUrl,expression:"item.user.avatarUrl"}],staticClass:"img circle pointer",on:{click:function(i){return t.toUserDetail(t.item.user.userId)}}})]),t._v(" "),e("div",{staticClass:"comment-wrap mleft-10"},[e("div",{staticClass:"comment-content"},[e("span",{staticClass:"font-12 pointer",staticStyle:{color:"#507daf"},on:{click:function(i){return t.toUserDetail(t.item.user.userId)}}},[t._v(t._s(t.item.user.nickname)+":")]),t._v(" "),e("span",{staticClass:"font-12"},[t._v(t._s(t.item.content))])]),t._v(" "),0!==t.item.beReplied.length?e("div",{staticClass:"reply-content"},[e("span",{staticClass:"font-12 pointer",staticStyle:{"margin-left":"5px",color:"#507daf"},on:{click:function(i){return t.toUserDetail(t.item.beReplied[0].user.userId)}}},[t._v("\n          @"+t._s(t.item.beReplied[0].user.nickname)+":")]),t._v(" "),e("span",{staticClass:"font-12"},[t._v(t._s(t.item.beReplied[0].content))])]):t._e(),t._v(" "),e("div",{staticClass:"comment-info"},[e("div",{staticClass:"time font-12",staticStyle:{color:"#9f9f9f"}},[t._v("\n          "+t._s(t.item.timeStr)+"\n        ")]),t._v(" "),e("div",{staticClass:"comment-btn"},[e("button",{staticClass:"no-btn",on:{click:function(i){return t.like(t.item.commentId,t.item.liked)}}},[e("i",{staticClass:"iconfont icon-good",class:{isliked:t.item.liked}}),t._v(" "),e("span",[t._v(" "+t._s(t.item.likedCount))])]),t._v(" "),e("div",{staticClass:"div-column"}),t._v(" "),t._m(0),t._v(" "),e("div",{staticClass:"div-column"}),t._v(" "),e("button",{staticClass:"no-btn",on:{click:function(i){return t.reply(t.item.commentId,t.item.user.nickname)}}},[e("i",{staticClass:"iconfont icon-pinglun"})])])])])]),t._v(" "),e("div",{staticClass:"div-line"})])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("button",{staticClass:"no-btn"},[i("i",{staticClass:"iconfont icon-fenxiang"})])}]};var q={0:function(t){return w("/api/comment/music?id="+t.id+"&offset="+t.offset+"&limit=20&before=0&timestamp="+Date.now())},1:function(t){return w("/api/comment/mv?id="+t.id+"&offset="+t.offset+"&limit=20&before=0&timestamp="+Date.now()+" ")},2:function(t){return w("/api/comment/playlist?id="+t.id+"&offset="+t.offset+"&limit=20&before=0&timestamp="+Date.now()+" ")},3:function(t){return w("/api/comment/album?id="+t.id+"&offset="+t.offset+"&limit=20&before=0&timestamp="+Date.now()+" ")},4:function(t){return w("/api/comment/dj?id="+t.id+"&offset="+t.offset+"&limit=20&before=0&timestamp="+Date.now()+"  ")},5:function(t){return w("/api/comment/video?id="+t.id+"&offset="+t.offset+"&limit=20&before=0&timestamp="+Date.now()+" ")}},O={name:"Comment",components:{CommentItem:e("VU/8")(R,P,!1,function(t){e("FE4K")},"data-v-41c16db6",null).exports},props:{id:{type:[Number,String],required:!1},type:{type:Number,required:!0},scrollDom:{type:String,require:!0,default:"body"},scrollOffset:{type:Number,default:10}},data:function(){return{hotList:[],newList:[],newCount:0,currentPage:1,newQuery:{id:this.id,offset:0,limit:20,before:0,type:this.type},commentInfo:{t:1,type:this.type,id:this.id,content:"",commentId:0},reply:""}},computed:{restNum:function(){return 140-this.commentInfo.content.length}},watch:{active:{immediate:!0,handler:function(t){t&&0===this.newList.length&&(this.getHotComment(),this.getNewComment())}},"commentInfo.content":function(t){""===t&&(this.commentInfo.t=1)},id:function(t){t&&(this.hotList=[],console.log("监听ID",t,this.commentInfo.id),this.commentInfo.id=t,this.newQuery.id=t,this.clearCommentInfo(),this.getHotComment(),this.getNewComment())}},created:function(){this.getHotComment(),this.getNewComment(),this.sendComment(this.commentInfo)},methods:{clearCommentInfo:function(){this.replyName="",this.commentInfo.content="",console.log("重置评论"),this.commentInfo.commentId=0,this.commentInfo.t=1},getHotComment:function(){var t=this;w("/api/comment/hot?id="+this.id+"&type="+this.type).then(function(i){200===i.data.code&&(t.hotList=i.data.hotComments)})},getNewComment:function(){var t=this;q[this.type](this.newQuery).then(function(i){200===i.data.code&&(t.newCount=i.data.total,t.newList=i.data.comments)})},handleChangePage:function(t){this.currentPage=t,this.newQuery.offset=20*(t-1),this.getNewComment(this.newQuery),document.querySelector(this.scrollDom).scrollTop=0,document.querySelector(this.scrollDom).scrollTop=this.$refs.newListRef.offsetTop-this.scrollOffset},addTopic:function(){this.commentInfo.content+="#输入想说的话题#"},sendComment:function(){var t=this;if(this.restNum<0)return this.$message.error("字数过长");w("/api/comment?t=1&type="+this.type+"&id="+this.id+"&content="+this.commentInfo.content+"&commentId=0").then(function(i){200===i.data.code&&(t.$message.success("发送成功"),t.commentInfo.content="",t.commentInfo.t=1,t.commentInfo.commentId=0,console.log("刷新新列表"),0===t.newQuery.offset&&window.setTimeout(function(){t.getNewComment()},500))})},toUserDetail:function(t){"number"==typeof t&&this.$route.path!=="/userdetail/"+t&&this.$router.push("/userdetail/"+t)}}},W={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"comment"},[e("div",{staticClass:"area-wrap"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentInfo.content,expression:"commentInfo.content"}],ref:"textAreaRef",staticClass:"text-area",domProps:{value:t.commentInfo.content},on:{keyup:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.sendComment.apply(null,arguments)},input:function(i){i.target.composing||t.$set(t.commentInfo,"content",i.target.value)}}}),t._v(" "),e("div",{staticClass:"word-num"},[t._v(t._s(t.restNum))])]),t._v(" "),e("div",{staticClass:"btn-wrap mtop-10"},[e("div",{staticClass:"at-btn"},[e("button",{staticClass:"font-18 no-btn",on:{click:function(i){t.commentInfo.content+="@"}}},[t._v("\n        @\n      ")]),t._v(" "),e("button",{staticClass:"font-18 no-btn",on:{click:t.addTopic}},[t._v("#")])]),t._v(" "),e("div",{staticClass:"send-btn"},[e("button",{staticClass:"btn btn-white",on:{click:t.sendComment}},[t._v("评论")])])]),t._v(" "),0!==t.hotList.length?e("div",{staticClass:"hot-wrap mtop-20"},[e("div",{staticClass:"font-16 font-bold"},[t._v("精彩评论")]),t._v(" "),t._l(t.hotList,function(i){return e("CommentItem",{key:i.commentId,attrs:{item:i,identy:"hot"},on:{clickUser:t.toUserDetail}})}),t._v(" "),t._m(0)],2):t._e(),t._v(" "),0!==t.newList.length?e("div",{ref:"newListRef",staticClass:"hot-wrap mtop-20"},[e("div",{staticClass:"font-16 font-bold"},[t._v("最新评论("+t._s(t.newCount)+")")]),t._v(" "),t._l(t.newList,function(i){return e("CommentItem",{key:i.commentId,attrs:{item:i,identy:"new"},on:{clickUser:t.toUserDetail}})}),t._v(" "),e("div",{staticClass:"flex-center",staticStyle:{"margin-top":"10px"}},[e("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":20,layout:"prev, pager, next",total:t.newCount,background:""},on:{"current-change":t.handleChangePage}})],1)],2):t._e(),t._v(" "),0===t.newCount?e("div",{staticStyle:{color:"#9f9f9f","text-align":"center"}},[t._v("\n    还没有评论，快来抢沙发~\n    ")]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"more-btn-wrap mtop-20"},[i("button",{staticClass:"btn btn-white"},[this._v("更多精彩评论>")])])}]};var j=e("VU/8")(O,W,!1,function(t){e("7Yqo")},"data-v-17808c84",null).exports,B={name:"MusicList",props:{list:{type:Array,required:!0,default:function(){}}},data:function(){return{show:"false",isPlay:"false"}},methods:{showCurren:function(t){return this.id===t},playMusic:function(t){this.$store.commit("setMusicInfo",{musicList:this.list,id:t.id})},playClickAll:function(){var t=this.list[0].id;this.$store.commit("setMusicInfo",{musicList:this.list,id:t})},toMvDeTail:function(t){"number"==typeof t&&this.$router.push("/videodetail/mv/"+t)},toArtistDetail:function(t){"number"==typeof t&&this.$router.push("/artistdetail/"+t)},toAlbumDetail:function(t){this.$route.path!=="/albumdetail/"+t&&"number"==typeof t&&this.$router.push("/albumdetail/"+t)},isLiked:function(t){return-1!==this.$store.state.likeIdList.indexOf(t)},likeMusic:function(t){var i=this;if(!this.$store.state.isLogin)return this.$message.error("需要登录");if("number"==typeof t){var e=this.isLiked(t);w("/api/like?id="+t+"&like="+!e).then(function(s){200===s.data.code&&(i.$message.success((e?"取消喜欢":"喜欢")+"成功"),e?i.$store.commit("setLikeIdList",{type:"remove",data:t}):i.$store.commit("setLikeIdList",{type:"unshift",data:t}))})}}}},H={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("el-table",{staticClass:"pointer",staticStyle:{width:"100%"},attrs:{data:t.list,size:"mini",stripe:"","empty-text":"当前没有音乐哦"},on:{"row-dblclick":t.playMusic}},[e("el-table-column",{attrs:{type:"index",width:"50"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("span",{staticStyle:{color:"#c3c3db"}},[t._v(t._s(i.$index+1))])]}}])}),t._v(" "),e("el-table-column",{attrs:{width:"30"},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.row;return[e("div",{staticClass:"pointer",on:{click:function(i){return t.likeMusic(s.id)}}},[t.isLiked(s.id)?e("i",{staticClass:"iconfont icon-aixin1",staticStyle:{color:"#ec4141"}}):e("i",{staticClass:"iconfont icon-aixin"})])]}}])}),t._v(" "),e("el-table-column",{staticClass:"df",attrs:{prop:"musicName",label:"音乐标题"},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.row;return[e("span",[t._v(t._s(s.musicName))]),t._v(" "),s.alia&&0!==s.alia.length?e("span",[t._v(" ("+t._s(s.alia[0])+") ")]):t._e(),t._v(" "),1==s.fee?e("span",{staticClass:"vip-tag"},[t._v("VIP")]):t._e(),t._v(" "),0!==s.mv?e("span",{staticClass:"vip-tag pointer",on:{click:function(i){return t.toMvDeTail(s.mv)}}},[t._v("\n          MV\n          "),e("i",{staticClass:"el-icon-caret-right"})]):t._e()]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"authorName",label:"歌手",width:"240"},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.row;return[e("span",{staticClass:"pointer artist-list",on:{click:function(i){return t.toArtistDetail(s.authorId)}}},[t._v(t._s(s.authorName))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"albumName",label:"专辑名",width:"200"},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.row;return[e("span",{staticClass:"pointer",on:{click:function(i){return t.toAlbumDetail(s.albumId)}}},[t._v(t._s(s.albumName))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"totalTime",label:"时长",width:"180"},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.row;return[e("span",[t._v(t._s(t._f("timeFormat")(s.totalTime/1e3)))])]}}])}),t._v(" "),t._t("one",function(){return[t._v("操作")]})],2)],1)},staticRenderFns:[]};var z=e("VU/8")(B,H,!1,function(t){e("B1vl")},"data-v-39d0573b",null).exports,Y={name:"MainFooter",components:{LyricWrap:V,Comment:j,MusicList:z},data:function(){return{volume:30,isMute:!0,saveVolume:30,imgInfo:{imgUrl:"https://cdn.jsdelivr.net/gh/crazybox521/blogImg/music.jpg",name:"未知",author:"未知歌手名"},drawer:!1,table:!1,direction:"btt",progress:0,isPlay:!1,isDragSlider:!1}},computed:{musicDetail:function(){return this.$store.state.currentMusicInfo},length:function(){return this.$store.state.historyList.length},isLiked:{get:function(){return-1!==this.$store.state.likeIdList.indexOf(this.musicDetail.id)},set:function(t){this.isLiked?this.$store.commit("setLikeIdList",{type:"remove",data:t}):this.$store.commit("setLikeIdList",{type:"unshift",data:t})}}},watch:{isPlay:{handler:function(t){var i=document.querySelector("#music-audio");t?i.play():i.pause()},immediate:!1},"$store.state.musicData":function(t){this.getMusicUrl(t)},isMute:function(t){t?(this.saveVolume=this.volume,this.volume=0):this.volume=this.saveVolume},volume:function(){this.changeVolume()}},methods:{handleClose:function(){this.drawer=!1},openDrawer:function(){this.drawer=!0,this.$nextTick(function(){document.querySelector(".player").scrollTop=0})},getMusicUrl:function(t){var i=this;console.log(t,"musicData");var e={},s="";t.musicList.forEach(function(i,a){i.id===t.id&&(e=i,s=a,console.log(e,"music"))}),w("/api/song/url?id="+e.id).then(function(a){i.$store.state.currentMusicInfo=g()({},e,{musicUrl:a.data.data[0].url,lastId:(t.musicList[s-1]||{}).id,nextId:(t.musicList[s+1]||{}).id}),setTimeout(function(){i.isPlay=!0,i.updateHistoryList(i.musicDetail)},1e3)})},trrigerMusic:function(t){t?this.$store.commit("setMusicInfo",{id:t}):this.$message({message:"已经是"+(t===this.musicDetail.lastId?"第一":"最后一")+"首歌喽呦",type:"warning"})},updateMusicTime:function(){var t=document.querySelector("#music-audio");t&&(this.$store.state.currentMusicInfo=g()({},this.$store.state.currentMusicInfo,{currentTime:t.currentTime})),this.isDragSlider||(this.progress=t.currentTime/(this.musicDetail.totalTime/1e3)*100)},changeProgress:function(t){0!==this.musicDetail.totalTime&&(document.querySelector("#music-audio").currentTime=t/100*(this.musicDetail.totalTime/1e3))},playClick:function(){this.isPlay=!this.isPlay},downloadMusic:function(){this.download(this.musicDetail.musicUrl,this.musicDetail.musicName+"-"+this.musicDetail.authorName)},download:function(t,i){var e=this;w(t,{responseType:"blob"}).then(function(t){var s=document.createElement("a");s.href=window.URL.createObjectURL(t.data),s.href=s,s.download=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),e.$message({message:i+"下载成功",type:"success"})}).catch(function(t){e.$message({message:"下载失败",type:"error"})})},changeVolume:function(){this.$refs.audioRef.volume=this.volume/100},updateHistoryList:function(t){this.$store.commit("setHistoryInfo",{musicDetail:t,type:"add"})},likeMusic:function(){var t=this;if(!this.$store.state.isLogin)return this.$message.error("需要登录");0!==this.musicDetail.id&&void 0!==this.musicDetail.id&&w("/api/like?id="+this.musicDetail.id+"&like="+!this.isLiked).then(function(i){200===i.data.code&&(t.$message.success((t.isLiked?"取消喜欢":"喜欢")+"成功"),t.isLiked=t.musicDetail.id,t.$store.dispatch("getMyPlayList"))})}}},Q={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"player"},[s("div",{staticClass:"player-wrapper"},[s("div",{staticClass:"player-left"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.musicDetail.musicPic||t.imgInfo.imgUrl,expression:"musicDetail.musicPic || imgInfo.imgUrl"}],staticClass:"pointer songImg",on:{click:t.openDrawer}}),t._v(" "),s("div",{staticClass:"music-info"},[s("span",[t._v(t._s(t.musicDetail.musicName||t.imgInfo.name))]),t._v(" "),s("span",[t._v(t._s(t.musicDetail.authorName||t.imgInfo.author))])])]),t._v(" "),s("div",{staticClass:"player-content"},[s("div",{staticClass:"player-button"},[t._m(0),t._v(" "),s("button",{staticClass:"player-btn",on:{click:function(i){return t.trrigerMusic(t.musicDetail.lastId)}}},[s("i",{staticClass:"el-icon el-icon-caret-left"})]),t._v(" "),s("button",{staticClass:"player-btn",on:{click:t.playClick}},[t.isPlay?s("i",{staticClass:"el-icon el-icon-video-pause"}):s("i",{staticClass:"el-icon el-icon-video-play"})]),t._v(" "),s("button",{staticClass:"player-btn",on:{click:function(i){return t.trrigerMusic(t.musicDetail.nextId)}}},[s("i",{staticClass:"el-icon el-icon-caret-right"})]),t._v(" "),s("button",{staticClass:"player-btn",on:{click:t.likeMusic}},[s("i",{directives:[{name:"show",rawName:"v-show",value:!t.isLiked,expression:"!isLiked"}],staticClass:"el-iconl el-icon-star-off"}),t._v(" "),s("i",{directives:[{name:"show",rawName:"v-show",value:t.isLiked,expression:"isLiked"}],staticClass:"el-icon el-icon-star-on",staticStyle:{color:"#ec4141"}})])]),t._v(" "),s("div",{staticClass:"player-progress"},[s("span",[t._v(t._s(t._f("timeFormat")(t.musicDetail.currentTime)))]),t._v(" "),s("el-slider",{staticStyle:{width:"400px"},attrs:{"show-tooltip":!1},on:{change:t.changeProgress},nativeOn:{mousedown:function(i){t.isDragSlider=!0},mouseup:function(i){t.isDragSlider=!1}},model:{value:t.progress,callback:function(i){t.progress=i},expression:"progress"}}),t._v(" "),s("span",[t._v(t._s(t._f("timeFormat")((t.musicDetail.totalTime||t.musicDetail.currentTime)/1e3)))])],1)]),t._v(" "),s("div",{staticClass:"player-otherbutton"},[s("div",{staticClass:"otherbutton-download"},[s("i",{staticClass:"el-othericon el-icon-download pointer",on:{click:function(i){return t.downloadMusic()}}})]),t._v(" "),s("div",{staticClass:"button-volume"},[s("div",{staticClass:"volume-iconfont",on:{click:function(i){t.isMute=!t.isMute}}},[0==t.volume?s("i",{staticClass:"iconfont icon-shengyinguanbi volume-icon pointer"}):s("i",{staticClass:"iconfont icon-shengyin volume-icon pointer"})]),t._v(" "),s("div",{staticClass:"volume-slider"},[s("el-slider",{attrs:{vertical:"",height:"200px"},model:{value:t.volume,callback:function(i){t.volume=i},expression:"volume"}})],1)]),t._v(" "),s("div",{staticClass:"otherbutton-currentlist"},[s("button",{staticClass:"player-btn",on:{click:function(i){t.table=!0}}},[s("i",{staticClass:"el-othericon el-icon-s-operation"})]),t._v(" "),s("el-drawer",{attrs:{title:"当前播放",visible:t.table,direction:"rtl",size:"40%"},on:{"update:visible":function(i){t.table=i}}},[s("div",{staticClass:"flex-around"},[s("div",{staticClass:"font-12 mleft-12"},[t._v("总 "+t._s(t.length)+" 首")]),t._v(" "),s("div",{staticClass:"font-12 mleft-12"},[s("span",{directives:[{name:"show",rawName:"v-show",value:0===t.length,expression:"length === 0"}]},[t._v("没有在播放哦")])])]),t._v(" "),s("el-divider"),t._v(" "),s("MusicList",{attrs:{list:this.$store.state.historyList}})],1)],1)]),t._v(" "),s("el-drawer",{attrs:{visible:t.drawer,direction:t.direction,size:"100%","before-close":t.handleClose,"show-close":!1,modal:!1},on:{"update:visible":function(i){t.drawer=i}},scopedSlots:t._u([{key:"title",fn:function(){return[s("div",[s("i",{staticClass:"el-icon-arrow-down down pointer",on:{click:function(i){t.drawer=!1}}})])]},proxy:!0}])},[t._v(" "),s("div",{staticClass:"play-view"},[s("div",{staticClass:"play-music-info"},[s("div",{staticClass:"music-title"},[t._v(t._s(t.musicDetail.musicName))]),t._v(" "),s("div",{staticClass:"music-author"},[t._v(t._s(t.musicDetail.authorName))]),t._v(" "),s("div",{staticClass:"lyric-view"},[s("div",{staticClass:"img-wrap"},[s("div",{staticClass:"play-pole pointer",class:{"play-pole-active":t.isPlay},on:{click:t.playClick}},[s("img",{attrs:{src:e("fliS")}})]),t._v(" "),s("div",{staticClass:"record",class:{"record-active":t.isPlay}},[s("div",{staticClass:"record-wrap"},[s("img",{attrs:{src:t.musicDetail.musicPic||t.imgInfo.imgUrl}})])])]),t._v(" "),s("LyricWrap",{attrs:{musicId:t.$store.state.musicData.id,currenTime:t.musicDetail.currentTime}})],1)]),t._v(" "),s("div",{staticClass:"comment-view mtop-50"},[s("Comment",{attrs:{id:t.$store.state.musicData.id,type:0,scrollDom:".player .el-drawer__body",scrollOffset:80}})],1)])]),t._v(" "),s("audio",{ref:"audioRef",attrs:{muted:"",src:t.musicDetail.musicUrl,id:"music-audio",autoplay:""},on:{ended:function(i){return t.trrigerMusic(t.musicDetail.nextId)},timeupdate:t.updateMusicTime}})],1)])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("button",{staticClass:"player-btn"},[i("i",{staticClass:"el-icon el-icon-s-operation"})])}]};var G={name:"MainLayout",components:{HeaderMenu:A,MainAside:S,MainFooter:e("VU/8")(Y,Q,!1,function(t){e("SWdA")},"data-v-bd2c191a",null).exports}},Z={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"main-layout"},[i("div",[i("el-header",{staticStyle:{height:"60px"}},[i("header-menu")],1),this._v(" "),i("div",{staticClass:"main"},[i("el-aside",{attrs:{width:"200px"}},[i("main-aside")],1),this._v(" "),i("el-main",[i("router-view")],1)],1),this._v(" "),i("div",[i("el-footer",{staticStyle:{height:"60px"}},[i("main-footer")],1)],1)],1)])},staticRenderFns:[]};var J=e("VU/8")(G,Z,!1,function(t){e("s2zo")},"data-v-2029f981",null).exports,K={name:"ImgList",props:{list:{type:Array,required:!0,default:function(){return[]}},hasMore:{type:Boolean,default:!1},infinite:{type:Boolean,default:!1},type:{type:String,required:!0},isLoading:{type:Boolean,default:!1}},computed:{disabled:function(){return!this.infinite||!this.hasMore||this.isLoading},showPlayBtn:function(){return"playlist"===this.type||"album"===this.type},noMore:function(){return this.infinite&&!this.hasMore}},methods:{clickImg:function(t){this.$emit("clickImg",t)},picUrl:function(t){return"playlist"===this.type?(t.picUrl?t.picUrl:t.coverImgUrl)+"?param=300y300":"artist"===this.type?t.img1v1Url+"?param=300y300":"album"===this.type?t.picUrl+"?param=300y300":void 0},load:function(){this.hasMore&&this.$emit("loadMore",this.list.length)}}},X={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"picimages"},[e("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],staticClass:"picimages-wrapper",attrs:{"infinite-scroll-disabled":t.disabled,"infinite-scroll-delay":"300"}},t._l(t.list,function(i){return e("div",{key:i.id,staticClass:"picimages-item"},[e("div",{staticClass:"img-wrap pointer",on:{click:function(e){return t.clickImg(i.id)}}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.picUrl(i),expression:"picUrl(item)"}],staticClass:"image image-radius-8 image-border"}),t._v(" "),i.playCount||i.playcount?e("div",{staticClass:"video-playcount font-12"},[e("i",{staticClass:"iconfont icon-24gl-play"}),t._v("\n            "+t._s(t._f("countFormat")(i.playCount||i.playcount))+"\n          ")]):t._e(),t._v(" "),t.showPlayBtn?e("div",{staticClass:"play-btn pointer"},[e("i",{staticClass:"iconfont icon-bofang"})]):t._e()]),t._v(" "),t._t("default",null,{item:i})],2)}),0)]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],staticClass:"loading-wrap"},[e("i",{staticClass:"el-icon-loading"}),t._v("加载中\n  ")]),t._v(" "),t.noMore?e("div",{staticClass:"loading-wrap"},[t._v("没有更多了")]):t._e()])},staticRenderFns:[]};var tt=e("VU/8")(K,X,!1,function(t){e("sBWM")},null,null).exports,it={name:"PersonlRecommend",components:{TabsMenu:Dt,ImgList:tt},props:{clickGo:{type:Function}},data:function(){return{imgList:[],recoList:[],recSongList:[]}},watch:{isLogin:{immediate:!0,handler:function(){this.$store.state.isLogin?this.getRecommend():this.getRecSongList()}}},created:function(){this.getRecBanner(),this.getRecSongList(),this.getRecommend()},methods:{openUrl:function(t){console.log(t),null!==t&&window.open(t)},goToView:function(){this.clickGo("second")},toPlayListDetail:function(t){"number"==typeof t&&this.$router.push({path:"/playlistdetail/"+t})},getRecBanner:function(){var t=this;w("/api/banner").then(function(i){200===i.data.code&&(t.imgList=i.data.banners,t.imgList.splice(5,t.imgList.length))})},getRecSongList:function(){var t=this;w("/api/personalized?limit=10").then(function(i){200===i.data.code&&(t.recSongList=i.data.result)})},getRecommend:function(){var t=this;w("/api/recommend/resource").then(function(i){200===i.data.code&&(t.recoList=i.data.recommend,t.recoList.map(function(t){return{item:t}}))})}}},et={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"personal-recom"},[e("div",{staticClass:"swiper"},[e("el-carousel",{attrs:{interval:4e3,type:"card",height:"200px"}},t._l(t.imgList,function(i){return e("el-carousel-item",{key:i.imageUrl},[e("img",{staticClass:"img img-h swiper-img",attrs:{src:i.imageUrl},on:{click:function(e){return t.openUrl(i.url)}}})])}),1)],1),t._v(" "),this.$store.state.isLogin?e("div",{staticClass:"recom-song-list"},[e("h2",{staticClass:"font-20 font-bold pointer",on:{click:t.goToView}},[t._v("\n      推荐歌单\n      "),e("i",{staticClass:"iconfont icon-arrow-right"})]),t._v(" "),e("ImgList",{attrs:{list:t.recoList,type:"playlist"},on:{clickImg:t.toPlayListDetail},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.item;return[e("div",{staticClass:"text-hidden"},[t._v("\n          "+t._s(s.name)+"\n        ")])]}}])})],1):e("div",{staticClass:"recom-song-list"},[e("h2",{staticClass:"font-20 font-bold pointer",on:{click:t.goToView}},[t._v("\n      热门推荐\n      "),e("i",{staticClass:"iconfont icon-arrow-right"})]),t._v(" "),e("ImgList",{attrs:{list:t.recSongList,type:"playlist"},on:{clickImg:t.toPlayListDetail},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.item;return[e("div",{staticClass:"text-hidden"},[t._v("\n          "+t._s(s.name)+"\n        ")])]}}],null,!1,3183750024)})],1),t._v(" "),e("el-backtop",{staticClass:"backtop",attrs:{target:".el-main"}})],1)},staticRenderFns:[]};var st=e("VU/8")(it,et,!1,function(t){e("T8jN")},null,null).exports,at=function(t){return{index:t.index,id:t.id,musicName:t.name,authorName:t.ar[0].name,authorId:t.ar[0].id,albumName:t.al.name,albumId:t.al.id,totalTime:t.dt,musicPic:t.al.picUrl,alia:t.alia,fee:t.fee,mv:t.mv}},nt=function(t){return{index:t.index,id:t.id,authorName:t.artists[0].name,authorId:t.artists[0].id,musicName:t.name,musicPic:t.album.picUrl,albumId:t.album.id,albumName:t.album.name,totalTime:t.duration,alia:t.alias,al:t.album,ar:t.artists,mv:t.mvid,fee:t.fee}},ot={name:"PlayList",props:{data:{type:Array}},components:{ImgList:tt},data:function(){return{listTagBtn:"华语",visible:!1,newObj:{},newHotObject:{},highQuaLity:{},categories:{},categorieObj:{},hotTag:[],hotObject:{},picList:[],hasHighInfo:!0,pageInfo:{total:0,currentPage:1},queryInfo:{limit:"50",order:"hot",cat:"华语",offset:0}}},created:function(){this.getHighquality(),this.getAllCat(),this.getHotCat()},methods:{getPlayList:function(t){var i=this;this.getHighquality(this.queryInfo.cat),w("/api/top/playlist?limit=50&order=hot&cat="+this.queryInfo.cat+"&offset="+t).then(function(t){200===t.data.code&&(i.picList=t.data.playlists,i.pageInfo.total=t.data.total)})},getHighquality:function(){var t=this;w("/api/top/playlist/highQuaLity?limit=1&cat="+this.queryInfo.cat).then(function(i){if(200===i.data.code){if(0===i.data.playlists.length)return t.highQuaLity={},void(t.hasHighInfo=!1);t.highQuaLity=i.data.playlists[0],t.hasHighInfo=!0}})},getAllCat:function(){var t=this;w("/api/playlist/catlist").then(function(i){if(200===i.data.code){var e={};i.data.sub.forEach(function(t){e[t.category]?e[t.category].push(t):e[t.category]=[t]}),t.categories=i.data.categories,t.categorieObj=e}})},getHotCat:function(){var t=this;w("/api/playlist/hot").then(function(i){if(200===i.data.code){var e={};i.data.tags.forEach(function(t){e[t.category]?e[t.category].push(t):e[t.category]=[t]}),t.hotTag=i.data.tags,t.hotTag[0].isActive=!0,t.hotObject=e}}),this.getPlayList(0)},handleCurrentChange:function(t){this.pageInfo.currentPage=t,this.queryInfo.offset="50"*(t-1),document.querySelector(".el-main").scrollTop=0,this.getPlayList(this.queryInfo.offset)},changefromAll:function(t){this.changeCat(t),this.visible=!this.visible},changeCat:function(t){this.queryInfo.offset=0,this.pageInfo.currentPage=1,this.queryInfo.cat=t,this.listTagBtn=t,this.hotTag.forEach(function(i){i.isActive=i.name===t}),this.getPlayList(0)},toPlayListDetail:function(t){"number"==typeof t&&this.$router.push({path:"/playlistdetail/"+t})}}},rt={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"personal-recom"},[t.hasHighInfo?e("div",{staticClass:"quality-goods"},[e("img",{staticClass:"back-img",attrs:{src:t.highQuaLity.coverImgUrl}}),t._v(" "),e("img",{staticClass:"img-80",attrs:{src:t.highQuaLity.coverImgUrl,alt:""}}),t._v(" "),e("div",{staticClass:"info-wrapper"},[t._m(0),t._v(" "),e("div",{staticClass:"mtop-10"},[e("span",[t._v(t._s(t.highQuaLity.name))])])])]):t._e(),t._v(" "),e("div",{staticClass:"list-tag"},[e("div",{staticClass:"list-wrapper"},[e("el-popover",{attrs:{placement:"bottom-start",trigger:"manual","popper-options":{boundariesElement:".list-wrapper",gpuAcceleration:!1}},model:{value:t.visible,callback:function(i){t.visible=i},expression:"visible"}},[e("el-button",{staticClass:"circle-btn tag-btn",attrs:{slot:"reference"},on:{click:function(i){t.visible=!t.visible}},slot:"reference"},[t._v("\n          "+t._s(t.listTagBtn)+"\n          "),e("i",{staticClass:"el-icon-arrow-right"})]),t._v(" "),e("div",{staticClass:"layer"},[e("div",{staticClass:"h-60"},[t._v("全部歌单")]),t._v(" "),e("div",{staticClass:"div-line"}),t._v(" "),t._l(t.categories,function(i,s){return e("div",{key:s,staticClass:"tag-list"},[e("div",{staticClass:"list-text"},[t._v("\n              "+t._s(i)+"\n            ")]),t._v(" "),e("div",{staticClass:"type-name"},t._l(t.categorieObj[s],function(i){return e("div",{key:i.name,staticClass:"span-name"},[e("button",{staticClass:"no-btn",class:{isActive:i.isActive},on:{click:function(e){return t.changefromAll(i.name)}}},[t._v("\n                  "+t._s(i.name)+"\n                ")])])}),0)])})],2)],1),t._v(" "),e("div",{staticClass:"hot-tag"},t._l(t.hotTag,function(i,s){return e("div",{key:s,staticClass:"hottag-list"},t._l(t.hotObject[s],function(i){return e("button",{key:i.name,staticClass:"hot-text no-btn",class:{isActive:i.isActive},on:{click:function(e){return t.changeCat(i.name)}}},[t._v("\n            "+t._s(i.name)+"\n          ")])}),0)}),0)],1)]),t._v(" "),e("ImgList",{attrs:{list:t.picList,type:"playlist"},on:{clickImg:t.toPlayListDetail},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.item;return[e("div",{staticClass:"text-hidden"},[t._v("\n        "+t._s(s.name)+"\n      ")])]}}])}),t._v(" "),e("div",{staticClass:"flex-center",staticStyle:{width:"100%"}},[e("el-pagination",{attrs:{"current-page":t.pageInfo.currentPage,background:"","page-size":50,layout:"prev, pager, next",total:t.pageInfo.total},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),e("el-backtop",{staticClass:"backtop",attrs:{target:".el-main"}})],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",[i("button",{staticClass:"circle-btn"},[i("i",{staticClass:"iconfont icon-huiyuanhuangguanguanjun-xianxing"}),this._v("\n          精品歌单\n        ")])])}]};var lt=e("VU/8")(ot,rt,!1,function(t){e("Ugry")},"data-v-601b83f8",null).exports,ct={name:"TopList",data:function(){return{officialList:[],globalList:[]}},components:{ImgList:tt},created:function(){this.getTopList()},methods:{getDetail:function(t){var i=this;w("/api/playlist/detail?id="+t).then(function(t){if(200===t.data.code){var e=t.data.playlist;i.officialList.push(g()({},e,{tracks:e.tracks.map(function(t){return at(t)}).slice(0,"5")}))}})},getTopList:function(){var t=this;w("/api/toplist").then(function(i){if(200===i.data.code){var e=i.data.list.slice(0,"4");t.globalList=i.data.list.slice("4"),e.forEach(function(i){t.getDetail(i.id)})}})},changeMusic:function(t,i){this.$store.commit("setMusicInfo",{id:t.id,musicList:i})},toPlayListDetail:function(t){this.$router.push({path:"/playlistdetail/"+t})}}},ut={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"top-list"},[e("div",{staticClass:"official-list"},[e("h2",{staticClass:"font-bold font-20"},[t._v("官方榜")]),t._v(" "),t._l(t.officialList,function(i){return e("div",{key:i.id,staticClass:"offocial-item"},[e("div",{staticClass:"official"},[e("div",{staticClass:"img-wrapper"},[e("div",{staticClass:"img-item"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.coverImgUrl,expression:"item.coverImgUrl"}],staticClass:"img-h img-radius-4 pointer officialImg",on:{click:function(e){return t.toPlayListDetail(i.id)}}}),t._v(" "),e("div",{staticClass:"play-btn pointer",on:{click:function(e){return t.toPlayListDetail(i.id)}}},[e("i",{staticClass:"iconfont icon-bofang"})])])]),t._v(" "),e("div",{staticClass:"mleft-30 official-text"},t._l(i.tracks,function(s,a){return e("div",{key:s.id,class:{"offical-text-odd pointer":a%2==0,"offical-text-item pointer":!0},attrs:{index:"track.id"},on:{click:function(e){return t.changeMusic(s,i.tracks)}}},[e("span",{staticClass:"mleft-12 text-hidden"},[t._v(t._s(a+1))]),t._v(" "),e("span",{staticClass:"mleft-12 musicName text-hidden"},[t._v(t._s(s.musicName))]),t._v(" "),e("span",{staticClass:"author mleft-12 text-hidden"},[t._v(t._s(s.authorName))])])}),0)]),t._v(" "),e("div",{staticClass:"lookbtn"},[e("button",{staticClass:"pointer no-btn mtop-10",on:{click:function(e){return t.toPlayListDetail(i.id)}}},[t._v("\n          查看全部\n          "),e("i",{staticClass:"el-icon-arrow-right"})])])])})],2),t._v(" "),e("div",{staticClass:"global-list"},[e("h2",{staticClass:"font-bold font-20"},[t._v("全球榜")]),t._v(" "),e("ImgList",{attrs:{list:t.globalList,type:"playlist"},on:{clickImg:t.toPlayListDetail},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.item;return[e("div",{staticClass:"text-hidden"},[t._v("\n          "+t._s(s.name)+"\n        ")])]}}])})],1),t._v(" "),e("el-backtop",{staticClass:"backtop",attrs:{target:".el-main"}})],1)},staticRenderFns:[]};var dt=e("VU/8")(ct,ut,!1,function(t){e("z5vY")},"data-v-58ff9d8a",null).exports,mt=e("Gu7T"),ft=e.n(mt),vt=e("oS60"),ht={name:"ArtistList",components:{ImgList:tt},data:function(){return{queryInfo:{limit:30,area:-1,offset:0,type:-1,initial:"-1"},artistData:vt,picList:[],mode:"first",hasMore:!0}},created:function(){this.getQueryInfo()},watch:{queryInfo:{deep:!0,handler:function(){this.getQueryInfo()}}},methods:{getQueryInfo:function(){var t=this;w("/api/artist/list?limit=30&offset=0&type="+this.queryInfo.type+"&area="+this.queryInfo.area+"&initial="+this.queryInfo.initial).then(function(i){var e;200===i.data.code&&(t.picList=i.data.artists,"first"===t.mode?t.picList=i.data.artists:(e=t.picList).push.apply(e,ft()(i.data.artists)))})},toArtistDetail:function(t){"number"==typeof t&&this.$router.push("/artistdetail/"+t)}}},pt={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"artist-list"},[e("div",{ref:"tagRef",staticClass:"tag-wrapper"},[e("div",{staticClass:"radio-list"},[e("span",{staticClass:"w-60"},[t._v("语种：")]),t._v(" "),e("el-radio-group",{model:{value:t.queryInfo.area,callback:function(i){t.$set(t.queryInfo,"area",i)},expression:"queryInfo.area"}},t._l(t.artistData.area,function(i){return e("el-radio",{key:i.id,attrs:{label:i.id}},[t._v("\n          "+t._s(i.value)+"\n        ")])}),1)],1),t._v(" "),e("div",{staticClass:"radio-list"},[e("span",{staticClass:"w-60"},[t._v("分类：")]),t._v(" "),e("el-radio-group",{model:{value:t.queryInfo.type,callback:function(i){t.$set(t.queryInfo,"type",i)},expression:"queryInfo.type"}},t._l(t.artistData.type,function(i){return e("el-radio",{key:i.id,attrs:{label:i.id}},[t._v("\n          "+t._s(i.value)+"\n        ")])}),1)],1),t._v(" "),e("div",{staticClass:"radio-list"},[e("span",{staticClass:"w-60"},[t._v("筛选：")]),t._v(" "),e("el-radio-group",{model:{value:t.queryInfo.initial,callback:function(i){t.$set(t.queryInfo,"initial",i)},expression:"queryInfo.initial"}},t._l(t.artistData.initial,function(i){return e("el-radio",{key:i.id,attrs:{label:i.id}},[t._v("\n          "+t._s(i.value)+"\n        ")])}),1)],1)]),t._v(" "),e("ImgList",{attrs:{list:t.picList,hasMore:t.hasMore,infinite:!0,type:"artist"},on:{clickImg:t.toArtistDetail},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.item;return[e("div",{staticClass:"text-hidden"},[t._v("\n        "+t._s(s.name)+"\n      ")])]}}])}),t._v(" "),e("el-backtop",{staticClass:"backtop",attrs:{target:".el-main"}})],1)},staticRenderFns:[]};var gt=e("VU/8")(ht,pt,!1,function(t){e("088T")},null,null).exports,bt={name:"InfoList",props:{list:{type:Array,required:!0}}},yt={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("ul",{staticClass:"info-list"},t._l(t.list,function(i,s){return e("li",{key:i.id,staticClass:"info-item pointer",on:{click:function(e){return t.$emit("clickitem",i)}}},[t._t("index",null,{index:s}),t._v(" "),t._t("img",function(){return[e("img",{staticClass:"sub-img mleft-10",attrs:{src:i.ar.picUrl}})]},{item:i}),t._v(" "),e("div",{staticClass:"sub-title font-14 mleft-10"},[t._t("title",function(){return[t._v("\n        "+t._s(i.name)+"\n      ")]},{item:i})],2),t._v(" "),e("div",{staticClass:"sub-item font-12"},[t._t("item1",null,{item:i})],2),t._v(" "),e("div",{staticClass:"sub-item font-12"},[t._t("item2",null,{item:i})],2),t._v(" "),e("div",{staticClass:"sub-item sub-final font-12"},[t._t("item3",null,{item:i})],2)],2)}),0)},staticRenderFns:[]};var _t=e("VU/8")(bt,yt,!1,function(t){e("IUH2")},null,null).exports,Ct={name:"NewSong",components:{InfoList:_t},data:function(){return{typeList:[{id:0,name:"全部"},{id:7,name:"华语"},{id:96,name:"欧美"},{id:8,name:"日本"},{id:16,name:"韩国"}],type:0,list:[],isSub:!1}},watch:{type:function(){this.getMusic()}},computed:{is_Active:function(){return function(t){return this.type===t}}},created:function(){this.getMusic()},methods:{changeType:function(t){this.type=t},getMusic:function(){var t=this;console.log(w,"htttp"),w("/api/top/song?type="+this.type).then(function(i){console.log(i,"rescs"),200===i.data.code&&i.data.data.forEach(function(e){var s=[];i.data.data.forEach(function(t){s.push(nt(t))}),t.list=s})})},playMusic:function(t){this.$store.commit("setMusicInfo",{musicList:this.list,id:t.id})},playClickAll:function(){var t=this.list[0].id;this.$store.commit("setMusicInfo",{musicList:this.list,id:t})},toArtistDetail:function(t){"number"==typeof t&&0!==t&&this.$router.push("/artistdetail/"+t)},toAlbumDetail:function(t){"number"==typeof t&&this.$router.push("/albumdetail/"+t)}}},wt={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"new-song"},[e("div",{staticClass:"new-song-head"},[e("div",{staticClass:"area-wrap"},t._l(t.typeList,function(i){return e("el-button",{key:i.id,staticClass:"no-btn mright-10 font-16 color",class:{is_Active:t.is_Active(i.id)},on:{click:function(e){return t.changeType(i.id)}}},[t._v("\n        "+t._s(i.name)+"\n      ")])}),1),t._v(" "),e("div",{staticClass:"btn-wrap"},[e("button",{staticClass:"btn btn-red",on:{click:t.playClickAll}},[e("i",{staticClass:"iconfont icon-bofang"}),t._v(" "),e("span",{staticClass:"btn-text"},[t._v("播放全部")])])])]),t._v(" "),e("div",{staticClass:"new-song-view"},[e("InfoList",{attrs:{list:t.list},on:{clickitem:t.playMusic},scopedSlots:t._u([{key:"index",fn:function(i){var s=i.index;return[e("div",{staticClass:"sub-index"},[t._v("\n          "+t._s(s>8?s+1:"0"+(s+1))+"\n        ")])]}},{key:"img",fn:function(t){var i=t.item;return[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.musicPic,expression:"item.musicPic"}],staticClass:"new-song-img mleft-10"})]}},{key:"title",fn:function(i){var e=i.item;return[t._v("\n        "+t._s(e.musicName)+"\n      ")]}},{key:"item1",fn:function(i){var s=i.item;return[e("span",{staticClass:"sub-item font-12",staticStyle:{color:"#676767"},on:{click:function(i){return i.stopPropagation(),t.toArtistDetail(s.ar[0].id)}}},[t._v(t._s(s.authorName)+"\n        ")])]}},{key:"item2",fn:function(i){var s=i.item;return[e("span",{staticClass:"sub-item font-12",staticStyle:{color:"#676767"},on:{click:function(i){return i.stopPropagation(),t.toAlbumDetail(s.al.id)}}},[t._v(t._s(s.al.name)+"\n        ")])]}},{key:"item3",fn:function(i){var e=i.item;return[t._v("\n       "+t._s(t._f("timeFormat")(e.totalTime/1e3))+"\n      ")]}}])})],1),t._v(" "),e("el-backtop",{staticClass:"backtop",attrs:{target:".el-main"}})],1)},staticRenderFns:[]};var kt={components:{ImgList:tt},name:"NewAlbum",data:function(){return{weekData:[],queryInfo:{limit:30,offset:0,area:"ALL",type:"new",month:"",year:""}}},created:function(){this.getNewAlbum()},methods:{getNewAlbum:function(){var t=this;w("/api/top/album?limit=30&offset=0&area=ALL&type=new&year=&month=").then(function(i){var e=i.data.weekData;t.weekData=e})},toAlbumDetail:function(t){"number"==typeof t&&this.$router.push("/albumdetail/"+t)}}},It={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"new-album"},[e("div",{staticClass:"new-song-view"},[e("div",{staticClass:"new-album-list"},[t._m(0),t._v(" "),e("div",{staticClass:"data-list"},[e("ImgList",{attrs:{list:t.weekData,type:"album"},on:{clickImg:t.toAlbumDetail},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.item;return[e("div",{staticClass:"text-hidden"},[t._v("\n              "+t._s(s.name)+"\n            ")]),t._v(" "),e("div",{staticClass:"text-hidden",staticStyle:{color:"#9f9f9f"}},[t._v("\n              "+t._s(s.artist.name)+"\n            ")])]}}])})],1)])]),t._v(" "),e("el-backtop",{staticClass:"backtop",attrs:{target:".el-main"}})],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"time-info"},[i("div",{staticClass:"time-info-content"},[this._v("本周新碟")])])}]};var Lt={name:"NewMusic",components:{NewSong:e("VU/8")(Ct,wt,!1,function(t){e("33cB")},"data-v-30ac70b2",null).exports,NewAlbum:e("VU/8")(kt,It,!1,function(t){e("x1BW")},"data-v-4925dac9",null).exports},data:function(){return{dyCompo:["NewSong","NewAlbum"],dIndex:0,tabList:[{title:"新歌速递",buttonType:"danger"},{title:"新碟上架"}]}},computed:{compo:function(){return this.dyCompo[this.dIndex]}},methods:{changeCompo:function(t){this.dIndex=t}}},At={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"new-music"},[e("div",{staticClass:"new-music-head"},[e("div",{staticClass:"head-btn-wrap"},t._l(t.tabList,function(i,s){return e("el-button",{key:i.title,staticClass:"btn-newmusic",class:{"btn-newmusic_active":t.dIndex===s},attrs:{type:i.buttonType,round:""},on:{click:function(i){return t.changeCompo(s)}}},[t._v("\n              "+t._s(i.title)+"\n              ")])}),1)]),t._v(" "),e("div",{staticClass:"new-music-view"},[e(t.compo,{tag:"component"})],1),t._v(" "),e("el-backtop",{staticClass:"backtop",attrs:{target:".el-main"}})],1)},staticRenderFns:[]};var xt=e("VU/8")(Lt,At,!1,function(t){e("uG4X")},"data-v-9071493a",null).exports,Tt={name:"TabsMenu",components:{PersonlRecommend:st,PlayList:lt,TopList:dt,ArtistList:gt,NewMusic:xt},data:function(){return{activeName:sessionStorage.getItem("person-recommned-active-name")||"first",currentName:"PersonlRecommend",tabMenu:[{label:"个性推荐",name:"first",compoment:st},{label:"歌单",name:"second",compoment:lt},{label:"排行榜",name:"third",compoment:dt},{label:"歌手",name:"forth",compoment:gt},{label:"最新音乐",name:"five",compoment:xt}]}},watch:{activeName:{handler:function(t){var i=this;sessionStorage.setItem("person-recommned-active-name",t),this.currentName=this.tabMenu.find(function(t){return t.name===i.activeName}).compoment},immediate:!0}},methods:{clickGo:function(t){this.activeName=t}}},St={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"tabs-menu"},[e("div",{staticClass:"tab"},[e("el-tabs",{model:{value:t.activeName,callback:function(i){t.activeName=i},expression:"activeName"}},t._l(t.tabMenu,function(t){return e("el-tab-pane",{key:t.name,attrs:{label:t.label,name:t.name}})}),1)],1),t._v(" "),e("div",{staticClass:"tab-content"},[e("keep-alive",[e(t.currentName,{tag:"compontent",attrs:{clickGo:t.clickGo}})],1)],1)])},staticRenderFns:[]};var Dt=e("VU/8")(Tt,St,!1,function(t){e("MkgK")},null,null).exports,Mt={name:"HomeMain",components:{TabsMenu:Dt}},Ut={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"home-view"},[i("div",{staticClass:"tab-list"},[i("tabs-menu")],1)])},staticRenderFns:[]};var Et=e("VU/8")(Mt,Ut,!1,function(t){e("OyOP")},null,null).exports,Ft={props:{list:{type:Array,required:!0},disabled:{type:Boolean,required:!0,default:!1}},watch:{"list.length":function(t){8===t&&this.$emit("loadMore",this.list.length)}},methods:{load:function(){this.$emit("loadMore",this.list.length)},toVideoDetail:function(t){void 0!==t&&this.$router.push("/videodetail/v/"+t)},toMvDetail:function(t){void 0!==t&&this.$router.push("/videodetail/mv/"+t)}}},Nt={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"video-list mtop-10"},[e("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],attrs:{"infinite-scroll-disabled":t.disabled}},t._l(t.list,function(i,s){return e("li",{key:s,staticClass:"mtop-10"},[1===i.type?[e("div",{staticClass:"mtop-10 img-wrap",on:{click:function(e){return t.toVideoDetail(i.data.vid)}}},[e("img",{staticClass:"video-img pointer img-border",attrs:{src:i.data.coverUrl+"?param=300y170"}}),t._v(" "),e("div",{staticClass:"video-playcount font-12"},[e("i",{staticClass:"iconfont icon-24gl-play"}),t._v("\n            "+t._s(t._f("countFormat")(i.data.playTime))+"\n          ")]),t._v(" "),e("div",{staticClass:"video-time font-12"},[t._v("\n            "+t._s(t._f("timeFormat")(i.data.durationms/1e3))+"\n          ")]),t._v(" "),t._m(0,!0)]),t._v(" "),e("div",{staticClass:"title-line text-hidden font-14 pointer"},[t._v("\n          "+t._s(i.data.title)+"\n        ")]),t._v(" "),e("div",{staticClass:"author-line font-12 pointer"},[t._v("\n          by "+t._s(i.data.creator.nickname)+"\n        ")])]:[e("div",{staticClass:"mtop-10 img-wrap",on:{click:function(e){return t.toMvDetail(i.data.id)}}},[e("img",{staticClass:"video-img",attrs:{src:i.data.coverUrl+"?param=300y170"}}),t._v(" "),e("div",{staticClass:"video-playcount font-12"},[e("i",{staticClass:"iconfont icon-24gl-play"}),t._v("\n            "+t._s(t._f("countFormat")(i.data.playCount))+"\n          ")]),t._v(" "),e("div",{staticClass:"video-time font-12"},[t._v("\n            "+t._s(t._f("timeFormat")(i.data.duration/1e3))+"\n          ")]),t._v(" "),t._m(1,!0)]),t._v(" "),e("div",{staticClass:"title-line text-hidden font-14"},[t._v(t._s(i.data.name))]),t._v(" "),e("div",{staticClass:"author-line font-12"},[t._v("\n          "+t._s(i.data.artists?i.data.artists[0].name:"")+"\n        ")])]],2)}),0)])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"play-btn pointer"},[i("i",{staticClass:"iconfont icon-bofang"})])},function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"play-btn pointer"},[i("i",{staticClass:"iconfont icon-bofang"})])}]};var $t={name:"Video",components:{VideoList:e("VU/8")(Ft,Nt,!1,function(t){e("Ee59")},"data-v-ba4e3b68",null).exports},data:function(){return{visible:!1,videoTagBtn:"全部视频",allTagList:[],hotTagList:[],videoList:[],listType:"video",hasMore:!0,isLoading:!1,mode:"first",currenTagId:0,offset:0}},computed:{disabled:function(){return this.loading||!this.hasMore}},created:function(){this.getVideo(),this.getHotTag(),this.getVideoAlltag()},methods:{getHotTag:function(){var t=this;w("/api/video/category/list").then(function(i){200===i.data.code&&(t.hotTagList=i.data.data)})},getVideoAlltag:function(){var t=this;w("/api/video/group/list").then(function(i){200===i.data.code&&(t.allTagList=i.data.data,t.allTagList.forEach(function(i){i.selectTab=i.id===t.currenTagId}))})},getVideo:function(){var t=this;this.isLoading||(this.isLoading=!0,"first"===this.mode&&(this.offset=0),0===this.currenTagId?w("/api/video/timeline/all?offset="+this.offset).then(function(i){if(200===i.data.code){var e;if("first"===t.mode)t.videoList=i.data.datas,t.hasMore=i.data.hasmore,0===t.videoList.length&&t.$message.error("暂时没有推荐视频，请稍后再试");else(e=t.videoList).push.apply(e,ft()(i.data.datas));t.hasMore=i.data.hasmore}}):w("/api/video/group?id="+this.currenTagId+"&offset="+this.offset).then(function(i){var e;200===i.data.code&&("first"===t.mode?(t.videoList=i.data.datas,t.hasMore=i.data.hasmore):((e=t.videoList).push.apply(e,ft()(i.data.datas)),t.hasMore=i.data.hasmore))}),this.isLoading=!1)},selectAllTag:function(t,i){this.listType=1e3===t?"mv":"video",this.allTagList.forEach(function(t){t.selectTab=!1}),this.hotTagList.forEach(function(i){i.selectTab=!1,i.selectTab=i.id===t}),this.allTagList[i].selectTab=!0,this.videoTagBtn=this.allTagList[i].name,this.visible=!this.visible,this.currenTagId=t,this.mode="first",this.getVideo()},selectHotTag:function(t,i){this.listType=1e3===t?"mv":"video",this.hotTagList.forEach(function(t){t.selectTab=!1}),this.allTagList.forEach(function(i){i.selectTab=!1,i.selectTab=i.id===t}),this.hotTagList[i].selectTab=!0,this.videoTagBtn=this.hotTagList[i].name,this.currenTagId=t,this.mode="first",this.getVideo()},selectAll:function(){this.videoTagBtn="全部视频",this.visible=!this.visible,this.currenTagId=0,this.hotTagList.selectTab=!1,this.mode="first",this.getVideo()},load:function(t){if(!this.isLoading){if(!this.hasMore)return this.$message.info("已经到底了");this.offset=t+8,this.mode="more",this.getVideo()}}}},Vt={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"video"},[e("div",{staticClass:"list-tag mtop-10"},[e("div",{staticClass:"layer-wrapper"},[e("el-popover",{attrs:{placement:"bottom-start",trigger:"manual","popper-options":{boundariesElement:".layer-wrapper",gpuAcceleration:!1}},model:{value:t.visible,callback:function(i){t.visible=i},expression:"visible"}},[e("el-button",{staticClass:"circle-btn tag-btn",attrs:{slot:"reference"},on:{click:function(i){t.visible=!t.visible}},slot:"reference"},[t._v("\n          "+t._s(t.videoTagBtn)+"\n          "),e("i",{staticClass:"el-icon-arrow-right"})]),t._v(" "),e("div",{staticClass:"layer"},[e("div",{staticClass:"h-60"},[e("button",{staticClass:"no-btn",class:{isActive:0===t.currenTagId},on:{click:t.selectAll}},[t._v("\n              全部视频\n            ")])]),t._v(" "),e("div",{staticClass:"div-line"}),t._v(" "),e("div",{staticClass:"tag-list"},t._l(t.allTagList,function(i,s){return e("div",{key:i.id,staticClass:"list-text"},[e("button",{staticClass:"no-btn",class:{isActive:i.selectTab},on:{click:function(e){return t.selectAllTag(i.id,s)}}},[t._v("\n                "+t._s(i.name)+"\n              ")])])}),0)])],1)],1),t._v(" "),e("div",{staticClass:"hot-tag mtop-10"},t._l(t.hotTagList,function(i,s){return e("div",{key:i.id,staticClass:"hot-tag-name mright-10 font-12",class:{isActive:i.selectTab},on:{click:function(e){return t.selectHotTag(i.id,s)}}},[t._v("\n        "+t._s(i.name)+"\n      ")])}),0)]),t._v(" "),e("VideoList",{attrs:{disabled:t.disabled,type:t.listType,list:t.videoList},on:{loadMore:t.load}}),t._v(" "),e("el-backtop",{staticClass:"backtop",attrs:{target:".el-main"}})],1)},staticRenderFns:[]};var Rt=e("VU/8")($t,Vt,!1,function(t){e("5gaN")},"data-v-72e0c406",null).exports,Pt={props:{list:Array,disabled:{type:Boolean,default:!0}},watch:{"list.length":function(t){8===t&&this.$emit("loadMore",this.list.length)}},methods:{load:function(){this.$emit("loadMore",this.list.length)},toMvDetail:function(t){this.$router.push("/videodetail/mv/"+t)}}},qt={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"mv-list"},[e("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.load,expression:"load"}],attrs:{"infinite-scroll-disabled":t.disabled}},t._l(t.list,function(i,s){return e("li",{key:s},[e("div",{staticClass:"mtop-10 img-wrap",on:{click:function(e){return t.toMvDetail(i.id)}}},[e("img",{staticClass:"video-img img-border",attrs:{src:i.cover+"?param=300y170"}}),t._v(" "),e("div",{staticClass:"video-playcount font-12"},[e("i",{staticClass:"iconfont icon-24gl-play"}),t._v("\n          "+t._s(t._f("countFormat")(i.playCount))+"\n        ")]),t._v(" "),t._m(0,!0)]),t._v(" "),e("div",{staticClass:"title-line text-hidden font-14 pointer",on:{click:function(e){return t.toMvDetail(i.id)}}},[t._v("\n        "+t._s(i.name)+"\n      ")]),t._v(" "),e("div",{staticClass:"author-line font-12"},t._l(i.artists,function(i,s){return e("span",{key:s,staticClass:"mright-5"},[t._v(t._s(i.name))])}),0)])}),0)])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"play-btn pointer"},[i("i",{staticClass:"iconfont icon-bofang"})])}]};var Ot=e("VU/8")(Pt,qt,!1,function(t){e("XQnV")},"data-v-57cd629c",null).exports,Wt={props:{list:{type:Array,required:!0,default:function(){return[]}}},methods:{toMvDetail:function(t){this.$router.push("/videodetail/mv/"+t)}}},jt={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"mv-top-list"},[e("ul",t._l(t.list,function(i,s){return e("li",{key:i.id},[e("div",{staticClass:"top-index font-24 mleft-10"},[t._v("\n        "+t._s(t._f("mvTopFormat")(s+1))+"\n      ")]),t._v(" "),e("div",{staticClass:"mtop-10 img-wrap",on:{click:function(e){return t.toMvDetail(i.id)}}},[e("img",{staticClass:"video-img img-border",attrs:{src:i.cover+"?param=300y170"}}),t._v(" "),e("div",{staticClass:"video-playcount font-12"},[e("i",{staticClass:"iconfont icon-24gl-play"}),t._v("\n          "+t._s(t._f("countFormat")(i.playCount))+"\n        ")]),t._v(" "),t._m(0,!0)]),t._v(" "),e("div",{staticClass:"top-info mleft-10"},[e("div",{staticClass:"title-line text-hidden pointer font-14",on:{click:function(e){return t.toMvDetail(i.id)}}},[t._v("\n          "+t._s(i.name)+"\n        ")]),t._v(" "),e("div",{staticClass:"author-line font-12"},t._l(i.artists,function(i){return e("span",{key:i.id,staticClass:"mright-5"},[t._v(t._s(i.name))])}),0)])])}),0)])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"play-btn pointer"},[i("i",{staticClass:"iconfont icon-bofang"})])}]};var Bt=e("VU/8")(Wt,jt,!1,function(t){e("jcoT")},"data-v-f61e2f90",null).exports,Ht={name:"mv",components:{MvList:Ot,MvTopList:Bt},data:function(){return{newCat:[{name:"内地",isActive:!0},{name:"港台",isActive:!1},{name:"欧美",isActive:!1},{name:"日本",isActive:!1},{name:"韩国",isActive:!1}],topCat:[{name:"内地",isActive:!0},{name:"港台",isActive:!1},{name:"欧美",isActive:!1},{name:"日本",isActive:!1},{name:"韩国",isActive:!1}],newQueryInfo:{area:"内地"},topQueryInfo:{area:"内地",limit:10,offset:0},mvList:[],netEasyList:[],topList:[]}},created:function(){this.getNewMv(),this.getNetEasyMv(),this.getTopMv()},methods:{getNewMv:function(){var t=this;w("/api/mv/first?area="+this.newQueryInfo.area+"&limit=8").then(function(i){200===i.data.code&&(t.mvList=i.data.data)})},getNetEasyMv:function(){var t=this;w("/api/mv/exclusive/rcmd?limit=8&offset=0").then(function(i){200===i.data.code&&(t.netEasyList=i.data.data)})},getTopMv:function(){var t=this;w("/api/top/mv?area="+this.topQueryInfo.area+"&limit="+this.topQueryInfo.limit+"&offset="+this.topQueryInfo.offset).then(function(i){200===i.data.code&&(t.topList=i.data.data.slice(0,10))})},toAllMv:function(t){console.log(t),"new"===t?this.$router.push({path:"allmv",query:{area:this.newQueryInfo.area}}):"网易出品"===t?this.$router.push({path:"/allmv",query:{type:t}}):this.$message.error("出错")},toTopMv:function(){this.$router.push({path:"/topmv",query:{area:this.topQueryInfo.area}})},selectNewCat:function(t,i){this.newCat.forEach(function(t){t.isActive=!1}),this.newCat[t].isActive=!0,this.newQueryInfo.area=i,this.getNewMv()},selectTopCat:function(t,i){this.topCat.forEach(function(t){t.isActive=!1}),this.topCat[t].isActive=!0,this.topQueryInfo.area=i,this.getTopMv()}}},zt={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"music-video"},[e("div",{staticClass:"mv-item"},[e("div",{staticClass:"new-head"},[e("div",[e("button",{staticClass:"no-btn font-16 font-bold mtop-10",on:{click:function(i){return t.toAllMv("new")}}},[t._v("\n          最新MV\n          "),e("i",{staticClass:"el-icon-arrow-right"})])]),t._v(" "),e("div",{staticClass:"cat-list"},t._l(t.newCat,function(i,s){return e("div",{key:s,staticClass:"cat-item"},[e("button",{staticClass:"no-btn",class:{isActive:i.isActive},on:{click:function(e){return t.selectNewCat(s,i.name)}}},[t._v("\n            "+t._s(i.name)+"\n          ")])])}),0)]),t._v(" "),e("MvList",{attrs:{list:t.mvList}})],1),t._v(" "),e("div",{staticClass:"mv-item mtop-20"},[e("div",{staticClass:"hot-head"},[e("button",{staticClass:"no-btn font-16 font-bold mtop-10",on:{click:function(i){return t.toAllMv("网易出品")}}},[t._v("\n        网易出品\n        "),e("i",{staticClass:"el-icon-arrow-right"})])]),t._v(" "),e("MvList",{attrs:{list:t.netEasyList}})],1),t._v(" "),e("div",{staticClass:"mv-item mtop-20"},[e("div",{staticClass:"new-head"},[e("div",[e("button",{staticClass:"no-btn font-16 font-bold mtop-10",on:{click:t.toTopMv}},[t._v("\n          MV排行榜\n          "),e("i",{staticClass:"el-icon-arrow-right"})])]),t._v(" "),e("div",{staticClass:"cat-list"},t._l(t.topCat,function(i,s){return e("div",{key:s,staticClass:"top-item"},[e("button",{staticClass:"no-btn",class:{isActive:i.isActive},on:{click:function(e){return t.selectTopCat(s,i.name)}}},[t._v("\n            "+t._s(i.name)+"\n          ")])])}),0)]),t._v(" "),e("MvTopList",{attrs:{list:t.topList}}),t._v(" "),e("el-backtop",{staticClass:"backtop",attrs:{target:".el-main"}})],1)])},staticRenderFns:[]};var Yt=e("VU/8")(Ht,zt,!1,function(t){e("Jwzd")},"data-v-fbc4ce38",null).exports,Qt={name:"TabsMenu",components:{Video:Rt,mv:Yt},data:function(){return{activeName:sessionStorage.getItem("video-main-active-name")||"first",currentName:"Video",tabMenu:[{label:"视频",name:"first",compoment:Rt},{label:"MV",name:"second",compoment:Yt}]}},watch:{activeName:{handler:function(t){var i=this;sessionStorage.setItem("video-main-active-name",t),this.currentName=this.tabMenu.find(function(t){return t.name===i.activeName}).compoment},immediate:!0}}},Gt={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"video-tabs-menu"},[e("div",{staticClass:"tab"},[e("el-tabs",{model:{value:t.activeName,callback:function(i){t.activeName=i},expression:"activeName"}},t._l(t.tabMenu,function(t){return e("el-tab-pane",{key:t.name,attrs:{label:t.label,name:t.name}})}),1)],1),t._v(" "),e("div",{staticClass:"tab-content"},[e("keep-alive",[e(t.currentName,{tag:"compontent"})],1)],1)])},staticRenderFns:[]};var Zt={name:"videoPage",components:{videoTabsMenu:e("VU/8")(Qt,Gt,!1,function(t){e("AhIX")},null,null).exports}},Jt={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"video-view"},[i("div",{staticClass:"tab-list"},[i("video-tabs-menu")],1)])},staticRenderFns:[]};var Kt=e("VU/8")(Zt,Jt,!1,function(t){e("tlED")},"data-v-0776f568",null).exports,Xt={components:{LyricWrap:V,Comment:j},name:"PersonalFmMain",data:function(){return{musicInfo:{defaultMusicPic:"https://cdn.jsdelivr.net/gh/crazybox521/blogImg/music.jpg",musicName:"未知歌名",author:{authorId:0,authorName:"未知歌手名"},album:{albumId:0,azname:"未知专辑名"}}}},watch:{"$store.state.musicData":{handler:function(t){t.id&&this.getImgInfo(t)},immediate:!0}},computed:{musicDetail:function(){return this.$store.state.currentMusicInfo}},created:function(){this.$store.state.musicData.id||this.getFmDetail()},methods:{getImgInfo:function(t){var i=t.musicList.find(function(i){return i.id===t.id});this.musicInfo=i},getFmDetail:function(){var t=this;w("/api/personal_fm").then(function(i){if(200===i.data.code){var e=[];i.data.data.forEach(function(i){e.push(nt(i));var s=e[0].id;t.$store.commit("setMusicInfo",{musicList:e,id:s})})}})}}},ti={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"personal-fm"},[e("div",{staticClass:"playview-wrap mtop-20"},[e("div",{staticClass:"playview-left"},[e("div",{staticClass:"img-wrap"},[e("img",{staticClass:"img img-h",attrs:{src:t.musicInfo.musicPic||t.musicInfo.defaultMusicPic}})])]),t._v(" "),e("div",{staticClass:"playview-right"},[e("div",{staticClass:"title"},[e("span",{staticClass:"font-24"},[t._v(t._s(t.musicInfo.musicName))])]),t._v(" "),e("div",{staticClass:"info"},[e("div",{staticClass:"font-12"},[t._v("\n          专辑："),e("span",{staticClass:"btn-a pointer",on:{click:function(i){return t.toAlbumDetail(t.musicInfo.albumId)}}},[t._v(t._s(t.musicInfo.albumName))])]),t._v(" "),e("div",{staticClass:"font-12"},[t._v("\n          歌手："),e("span",{staticClass:"btn-a pointer",on:{click:function(i){return t.toArtistDetail(t.musicInfo.authorId)}}},[t._v(t._s(t.musicInfo.authorName))])])]),t._v(" "),e("LyricWrap",{attrs:{musicId:t.musicDetail.id,currenTime:t.musicDetail.currentTime,width:400}})],1)]),t._v(" "),e("div",{staticClass:"comment-view mtop-60"},[e("Comment",{attrs:{active:!0,type:0,id:t.musicInfo.id,scrollDom:".el-main",scrollOffset:10}})],1),t._v(" "),e("el-backtop",{staticClass:"backtop",attrs:{target:".el-main"}})],1)},staticRenderFns:[]};var ii=e("VU/8")(Xt,ti,!1,function(t){e("3rE3")},"data-v-0fa7467e",null).exports,ei={name:"RecommendSong",components:{MusicList:z},data:function(){return{list:[],today:"1"}},created:function(){this.getDailyRecSongs()},methods:{getDailyRecSongs:function(){var t=this;w("/api/recommend/songs").then(function(i){200===i.data.code&&(t.list=i.data.data.dailySongs.map(function(t){return at(t)}))}),this.getToday()},getToday:function(){var t=(new Date).getDate();t=t<10?"0"+t:""+t,this.today=t},playAll:function(){this.$refs.listRef.playClickAll()}}},si={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"recommend-song"},[e("div",{staticClass:"info"},[e("div",{staticClass:"img-wrap"},[e("div",{staticClass:"day font-bold"},[t._v(t._s(t.today))])]),t._v(" "),t._m(0)]),t._v(" "),e("div",{staticClass:"btn-wrap"},[e("button",{staticClass:"btn btn-red",on:{click:t.playAll}},[e("i",{staticClass:"iconfont icon-bofang"}),t._v("\n      播放全部\n    ")])]),t._v(" "),e("div",{staticClass:"div-line mtop-20"}),t._v(" "),e("MusicList",{ref:"listRef",attrs:{list:t.list}}),t._v(" "),e("el-backtop",{staticClass:"backtop",attrs:{target:".el-main"}})],1)},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"text mleft-30 mtop-20"},[i("div",{staticClass:"font-24 font-bold"},[this._v("每日歌曲推荐")]),this._v(" "),i("div",{staticClass:"desc"},[this._v("根据你的音乐口味生成,每天6:00更新")])])}]};var ai=e("VU/8")(ei,si,!1,function(t){e("XtvS")},"data-v-7e98b958",null).exports,ni={name:"HistoryPlay",components:{MusicList:z},computed:{length:function(){return console.log(this.$store.state.historyList),this.$store.state.historyList.length}},methods:{playAll:function(){this.$refs.listRef.playClickAll()},clear:function(){this.$store.commit("setHistoryInfo",{type:"clear"}),this.$message({type:"success",message:"清除列表成功"})},deleteRow:function(t){this.$store.commit("setHistoryInfo",{musicDetail:t,type:"delete"})}}},oi={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"history-play mtop-20"},[e("div",{staticClass:"info"},[e("div",[e("span",{staticClass:"font-24 font-bold"},[t._v("最近播放")]),t._v(" "),e("span",{staticClass:"font-14 mleft-10"},[t._v("共"+t._s(t.length)+"首")])]),t._v(" "),e("div",{staticClass:"btn-wrap"},[e("button",{staticClass:"no-btn",on:{click:t.clear}},[t._v("清除列表")])])]),t._v(" "),e("div",{staticClass:"btn-wrap mtop-10"},[e("button",{staticClass:"btn btn-red",on:{click:t.playAll}},[e("i",{staticClass:"iconfont icon-bofang"}),t._v(" 播放全部\n    ")])]),t._v(" "),e("div",{staticClass:"div-line mtop-20"}),t._v(" "),e("MusicList",{ref:"listRef",attrs:{list:this.$store.state.historyList},scopedSlots:t._u([{key:"one",fn:function(){return[e("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return e.preventDefault(),t.deleteRow(i.row)}}},[t._v("\n        删除\n        ")])]}}])})]},proxy:!0}])}),t._v(" "),e("el-backtop",{staticClass:"backtop",attrs:{target:".el-main"}})],1)},staticRenderFns:[]};var ri=e("VU/8")(ni,oi,!1,function(t){e("CtpB")},null,null).exports,li={name:"CollectAlbum",components:{InfoList:_t},data:function(){return{list:[],offset:0,count:0,key:""}},computed:{subAlbumList:function(){var t=this;return this.list.filter(function(i){return i.name.match(t.key)})}},created:function(){this.getSubAlbum()},methods:{getSubAlbum:function(){var t=this;w("/api/album/sublist").then(function(i){200===i.data.code&&(t.list=i.data.data,t.count=i.data.count)})},toAlbumDetail:function(t){this.$router.push("/albumdetail/"+t.id)}}},ci={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"collection-album"},[e("div",{staticClass:"collection-album-head"},[e("div",[e("span",{staticClass:"font-bold"},[t._v("收藏的专辑")]),t._v(" "),e("span",{staticClass:"font-12",staticStyle:{color:"#cfcfcf"}},[t._v("("+t._s(t.count)+")")])]),t._v(" "),e("div",{staticClass:"detail-search"},[e("el-input",{attrs:{placeholder:"搜索收藏专辑",clearable:"","suffix-icon":"el-icon-search"},model:{value:t.key,callback:function(i){t.key=i},expression:"key"}})],1)]),t._v(" "),e("div",{staticClass:"collection-album-content mtop-20"},[e("info-list",{attrs:{list:t.subAlbumList},on:{clickitem:t.toAlbumDetail},scopedSlots:t._u([{key:"img",fn:function(t){var i=t.item;return[e("img",{staticClass:"sub-img mleft-10",attrs:{src:i.picUrl}})]}},{key:"title",fn:function(i){var e=i.item;return[t._v("\n        "+t._s(e.name)+"\n      ")]}},{key:"item1",fn:function(i){var s=i.item;return t._l(s.artist,function(i,s){return e("span",{key:s},[t._v(t._s(i.name))])})}},{key:"item2",fn:function(i){var e=i.item;return[t._v(t._s(e.size)+"首 ")]}}])})],1),t._v(" "),e("el-backtop",{staticClass:"backtop",attrs:{target:".el-main"}})],1)},staticRenderFns:[]};var ui=e("VU/8")(li,ci,!1,function(t){e("BWsC")},"data-v-205234a1",null).exports,di={components:{InfoList:_t},name:"CollectArtists",data:function(){return{list:[],offset:0,count:0,key:""}},computed:{subList:function(){var t=this;return this.list.filter(function(i){return i.name.match(t.key)})}},created:function(){this.getSubArtist()},methods:{getSubArtist:function(){var t=this;w("/api/artist/sublist").then(function(i){200===i.data.code&&(t.list=i.data.data,t.count=i.data.count)})},toArtistDetail:function(t){this.$router.push("/artistdetail/"+t.id)}}},mi={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"collection-artists"},[e("div",{staticClass:"collection-artists-head"},[e("div",[e("span",{staticClass:"font-bold"},[t._v("收藏的歌手")]),t._v(" "),e("span",{staticClass:"font-12",staticStyle:{color:"#cfcfcf"}},[t._v("("+t._s(t.count)+")")])]),t._v(" "),e("div",{staticClass:"detail-search"},[e("el-input",{attrs:{placeholder:"搜索我收藏的歌手",clearable:"","suffix-icon":"el-icon-search"},model:{value:t.key,callback:function(i){t.key=i},expression:"key"}})],1)]),t._v(" "),e("div",{staticClass:"collection-artists-content mtop-20"},[e("InfoList",{attrs:{list:t.subList},on:{clickitem:t.toArtistDetail},scopedSlots:t._u([{key:"img",fn:function(t){var i=t.item;return[e("img",{staticClass:"sub-img mleft-10",attrs:{src:i.picUrl}})]}},{key:"title",fn:function(i){var e=i.item;return[t._v("\n        "+t._s(e.name)+"\n      ")]}},{key:"item1",fn:function(i){var e=i.item;return[t._v(" 专辑： "+t._s(e.albumSize)+" ")]}},{key:"item2",fn:function(i){var e=i.item;return[t._v(" MV:"+t._s(e.mvSize)+" ")]}}])})],1),t._v(" "),e("el-backtop",{staticClass:"backtop",attrs:{target:".el-main"}})],1)},staticRenderFns:[]};var fi=e("VU/8")(di,mi,!1,function(t){e("lFjT")},"data-v-1a991f0a",null).exports,vi={name:"CollectArtists",data:function(){return{list:[],count:0,key:""}},computed:{subMvList:function(){var t=this;return this.list.filter(function(i){return i.title.match(t.key)})}},created:function(){this.getSubMv()},methods:{getSubMv:function(){var t=this;w("/api/mv/sublist").then(function(i){200===i.data.code&&(t.list=i.data.data,t.count=i.data.count,console.log(t.subMvList,"list"))})},toMvDetail:function(t){void 0!==t&&this.$router.push("videodetail/mv/"+t)}}},hi={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"collection-mv"},[e("div",{staticClass:"collection-mv-head"},[e("div",[e("span",{staticClass:"font-bold"},[t._v("收藏的视频")]),t._v(" "),e("span",{staticClass:"font-12",staticStyle:{color:"#cfcfcf"}},[t._v("("+t._s(t.count)+")")])]),t._v(" "),e("div",{staticClass:"detail-search"},[e("el-input",{attrs:{placeholder:"搜索我收藏的视频",clearable:"","suffix-icon":"el-icon-search"},model:{value:t.key,callback:function(i){t.key=i},expression:"key"}})],1)]),t._v(" "),e("div",{staticClass:"video-list mtop-10"},[e("div",{staticClass:"video-img"},t._l(t.subMvList,function(i,s){return e("div",{key:s,staticClass:"img-list"},[e("div",{staticClass:"mtop-10 img-wrap"},[e("img",{staticClass:"video-img pointer",attrs:{src:i.coverUrl+"?param=300y170"},on:{click:function(e){return t.toMvDetail(i.vid)}}}),t._v(" "),e("div",{staticClass:"video-playcount font-12"},[e("i",{staticClass:"iconfont icon-24gl-play"}),t._v("\n            "+t._s(t._f("countFormat")(i.playTime))+"\n          ")]),t._v(" "),e("div",{staticClass:"video-time font-12"},[t._v("\n            "+t._s(t._f("timeFormat")(i.durationms/1e3))+"\n          ")]),t._v(" "),e("div",{staticClass:"play-btn pointer",on:{click:function(e){return t.toMvDetail(i.vid)}}},[e("i",{staticClass:"iconfont icon-bofang"})])]),t._v(" "),e("div",{staticClass:"title-line text-hidden font-14"},[t._v(t._s(i.title))]),t._v(" "),e("div",{staticClass:"author-line font-12"},t._l(i.creator,function(i,s){return e("span",{key:s},[t._v(t._s(i.name)+"\n          ")])}),0)])}),0)]),t._v(" "),e("el-backtop",{staticClass:"backtop",attrs:{target:".el-main"}})],1)},staticRenderFns:[]};var pi=e("VU/8")(vi,hi,!1,function(t){e("p31+")},"data-v-7ca02c07",null).exports,gi={name:"CollTabsMenu",components:{CollectAlbum:ui,CollectArtists:fi,CollectMv:pi},data:function(){return{activeName:sessionStorage.getItem("collection-main-active-name")||"first",currentName:"CollectAlbum",tabMenu:[{label:"专辑",name:"first",compoment:ui},{label:"歌手",name:"second",compoment:fi},{label:"视频",name:"third",compoment:pi}]}},watch:{activeName:{handler:function(t){var i=this;sessionStorage.setItem("collection-main-active-name",t),this.currentName=this.tabMenu.find(function(t){return t.name===i.activeName}).compoment},immediate:!0}}},bi={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"collection-tabs-menu"},[e("div",{staticClass:"tab"},[e("el-tabs",{model:{value:t.activeName,callback:function(i){t.activeName=i},expression:"activeName"}},t._l(t.tabMenu,function(t){return e("el-tab-pane",{key:t.name,attrs:{label:t.label,name:t.name}})}),1)],1),t._v(" "),e("div",{staticClass:"tab-content"},[e("keep-alive",[e(t.currentName,{tag:"compontent"})],1)],1)])},staticRenderFns:[]};var yi={name:"Collection",components:{CollTabsMenu:e("VU/8")(gi,bi,!1,function(t){e("kuZZ")},null,null).exports}},_i={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"home-view"},[i("div",{staticClass:"tab-list"},[i("coll-tabs-menu")],1)])},staticRenderFns:[]};var Ci=e("VU/8")(yi,_i,!1,function(t){e("B1mR")},null,null).exports,wi={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"album-list mtop-60"},[e("div",{staticClass:"list-container"},[e("div",{staticStyle:{width:"200px"}},[e("img",{staticClass:"img images-radius-8 img-border",attrs:{src:t.albumInfo.picUrl},on:{click:t.toAlbumDetail}})]),t._v(" "),e("div",{staticClass:"mleft-40 list-content"},[e("div",{staticClass:"text"},[e("span",{staticClass:"font-bold",on:{click:t.toAlbumDetail}},[t._v(t._s(t.albumInfo.name))]),t._v(" "),e("button",{staticClass:"no-btn mleft-20 font-20",on:{click:t.playClickAll}},[e("i",{staticClass:"el-icon-video-play"})])]),t._v(" "),e("el-table",{staticClass:"pointer",staticStyle:{width:"100%"},attrs:{data:t.doAlbumList,size:"mini",stripe:""},on:{"row-click":t.playMusic}},[e("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),e("el-table-column",{attrs:{prop:"musicName",label:"音乐标题"}}),t._v(" "),e("el-table-column",{attrs:{prop:"totalTime",label:"时长"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("span",[t._v(t._s(t._f("timeFormat")(i.row.totalTime/1e3)))])]}}])})],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.total>10,expression:"total > 10"}],staticClass:"view-more"},[e("button",{staticClass:"pointer no-btn mtop-10",on:{click:t.toAlbumDetail}},[t._v("\n          查看全部"+t._s(t.total)+"首\n          "),e("i",{staticClass:"el-icon-arrow-right"})])])],1)])])},staticRenderFns:[]};var ki={name:"ArtistAlbum",components:{AlbumList:e("VU/8")({name:"AlbumList",props:["musicInAlbumList","albumInfo"],computed:{doAlbumList:function(){return this.musicInAlbumList.slice(0,10)},total:function(){return this.musicInAlbumList.length}},methods:{playMusic:function(t){this.$store.commit("setMusicInfo",{musicList:this.musicInAlbumList,id:t.id})},playClickAll:function(){var t=this.musicInAlbumList[0].id;this.$store.commit("setMusicInfo",{musicList:this.musicInAlbumList,id:t})},toAlbumDetail:function(){this.$router.push({path:"/albumdetail/"+this.albumInfo.id})}}},wi,!1,function(t){e("Pi5x")},"data-v-5c94c93d",null).exports},data:function(){return{topList:[],albumList:[],albumInfo:[],showAll:!1}},computed:{dotopList:function(){return this.showAll?this.topList:this.topList.slice(0,10)}},created:function(){this.getArtistTop(),this.getArtistAlbum()},methods:{getArtistTop:function(){var t=this;w("/api/artist/top/song?id="+this.$route.params.id).then(function(i){200===i.data.code&&(t.topList=i.data.songs.map(function(t){return at(t)}))})},getArtistAlbum:function(){var t=this;w("/api/artist/album?id="+this.$route.params.id+"&limit=50&offset=0").then(function(i){200===i.data.code&&i.data.hotAlbums.forEach(function(i){t.getAlbumDetail(i.id)})})},getAlbumDetail:function(t){var i=this;w("/api/album?id="+t).then(function(t){if(200===t.data.code){var e=t.data;e=g()({},e,{songs:t.data.songs.map(function(t){return at(t)})}),i.albumList.push(e)}})},playMusic:function(t){this.$store.commit("setMusicInfo",{musicList:this.topList,id:t.id})},playClickAll:function(){var t=this.topList[0].id;this.$store.commit("setMusicInfo",{musicList:this.topList,id:t})}}},Ii={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"top-fifty-list"},[e("div",{staticClass:"list-container"},[t._m(0),t._v(" "),e("div",{staticClass:"mleft-40 list-content"},[e("div",{staticClass:"top-text"},[e("span",{staticClass:"font-bold"},[t._v("热门50首")]),t._v(" "),e("button",{staticClass:"no-btn mleft-20 font-20",on:{click:t.playClickAll}},[e("i",{staticClass:"el-icon-video-play"})])]),t._v(" "),e("el-table",{staticClass:"pointer",staticStyle:{width:"100%"},attrs:{data:t.dotopList,size:"mini",stripe:""},on:{"row-click":t.playMusic}},[e("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),e("el-table-column",{attrs:{prop:"musicName",label:"音乐标题"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("span",[t._v(t._s(i.row.musicName))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"totalTime",label:"时长"},scopedSlots:t._u([{key:"default",fn:function(i){return[e("span",[t._v(t._s(t._f("timeFormat")(i.row.totalTime/1e3)))])]}}])})],1),t._v(" "),t.showAll?t._e():e("div",{staticClass:"view-more"},[e("button",{staticClass:"pointer no-btn mtop-10",on:{click:function(i){t.showAll=!0}}},[t._v("\n            查看全部"+t._s(t.topList.length)+"首\n            "),e("i",{staticClass:"el-icon-arrow-right"})])])],1)]),t._v(" "),t._l(t.albumList,function(t,i){return e("album-list",{key:i,attrs:{albumInfo:t.album,musicInAlbumList:t.songs||[]}})})],2)])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticStyle:{width:"200px"}},[i("img",{staticClass:"img image-radius-8",attrs:{src:e("NOAj")}})])}]};var Li=e("VU/8")(ki,Ii,!1,function(t){e("c9al")},"data-v-233eda5e",null).exports,Ai={name:"ArtistMvList",data:function(){return{mvList:[]}},created:function(){this.getArtistMv()},methods:{getArtistMv:function(){var t=this;w("/api/artist/mv?id="+this.$route.params.id).then(function(i){200===i.data.code&&(t.mvList=i.data.mvs,t.mvList.forEach(function(t){t.cover=t.imgurl}))})},toMvDetail:function(t){this.$router.push("/videodetail/mv/"+t)}}},xi={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"mv-list"},[e("div",{staticClass:"list-wrap"},t._l(t.mvList,function(i,s){return e("div",{key:s,staticClass:"img"},[e("div",{staticClass:"mtop-10 img-wrap",on:{click:function(e){return t.toMvDetail(i.id)}}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:i.cover+"?param=300y170",expression:"item.cover + '?param=300y170'"}]}),t._v(" "),e("div",{staticClass:"video-playcount font-12"},[e("i",{staticClass:"iconfont icon-24gl-play"}),t._v("\n       "+t._s(t._f("countFormat")(i.playCount))+"\n    ")]),t._v(" "),t._m(0,!0)]),t._v(" "),e("div",{staticClass:"title-line text-hidden font-14 pointer",on:{click:function(e){return t.toMvDetail(i.id)}}},[t._v("\n      "+t._s(i.name)+"\n    ")]),t._v(" "),e("div",{staticClass:"author-line font-12"},t._l(i.artists,function(i,s){return e("span",{key:s,staticClass:"mright-5"},[t._v("\n      "+t._s(i.name)+"\n      ")])}),0)])}),0)])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"play-btn pointer"},[i("i",{staticClass:"iconfont icon-bofang"})])}]};var Ti=e("VU/8")(Ai,xi,!1,function(t){e("e4ga")},"data-v-5eb9f852",null).exports,Si={name:"ArtistIntro",data:function(){return{introduction:[]}},created:function(){this.getIntro()},methods:{getIntro:function(){var t=this;w("/api/artist/desc?id="+this.$route.params.id).then(function(i){i.data.introduction.forEach(function(t){t.txt=t.txt.split("\n")}),i.data.briefDesc&&i.data.introduction.unshift({ti:"个人简介",txt:[i.data.briefDesc]}),t.introduction=i.data.introduction})}}},Di={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"artist-intro"},[0===t.introduction.length?e("div",[t._v("\n 没有相似歌手\n ")]):t._l(t.introduction,function(i){return e("div",{key:i.ti,staticClass:"mtop-20"},[e("h2",{staticClass:"font-bold font-14"},[t._v(t._s(i.ti))]),t._v(" "),t._l(i.txt,function(i,s){return e("div",{key:s,staticClass:"my-pre font-14"},[e("p",[t._v(t._s(i))])])})],2)})],2)},staticRenderFns:[]};var Mi=e("VU/8")(Si,Di,!1,function(t){e("Wqzg")},"data-v-19f21502",null).exports,Ui={components:{ImgList:tt},name:"ArtistSame",data:function(){return{sameArtistList:[]}},created:function(){this.getArtistSame()},methods:{getArtistSame:function(){var t=this;w("/api/simi/artist?id="+this.$route.params.id).then(function(i){200===i.data.code&&(t.sameArtistList=i.data.artists)})},toArtistDetail:function(t){"number"==typeof t&&this.$router.push("/artistdetail/"+t)}}},Ei={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[0===t.sameArtistList.length?e("div",[t._v("没有相似歌手")]):e("ImgList",{attrs:{list:t.sameArtistList,type:"artist"},on:{clickImg:t.toArtistDetail},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.item;return[e("div",{staticClass:"text-hidden"},[t._v("\n        "+t._s(s.name)+"\n      ")])]}}])})],1)},staticRenderFns:[]};var Fi=e("VU/8")(Ui,Ei,!1,function(t){e("PiVG")},null,null).exports,Ni={name:"ArtTabsMenu",components:{ArtistAlbum:Li,ArtistMvList:Ti,ArtistIntro:Mi,ArtistSame:Fi},data:function(){return{activeName:"first",currentName:"ArtistAlbum",tabMenu:[{label:"专辑",name:"first",compoment:Li},{label:"MV",name:"second",compoment:Ti},{label:"歌手详情",name:"third",compoment:Mi},{label:"相似歌手",name:"forth",compoment:Fi}]}},watch:{activeName:function(t){var i=this;this.currentName=this.tabMenu.find(function(t){return t.name===i.activeName}).compoment}}},$i={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"artistdetail-tabs-menu"},[e("div",{staticClass:"tab"},[e("el-tabs",{model:{value:t.activeName,callback:function(i){t.activeName=i},expression:"activeName"}},t._l(t.tabMenu,function(t){return e("el-tab-pane",{key:t.name,attrs:{label:t.label,name:t.name}})}),1)],1),t._v(" "),e("div",{staticClass:"tab-content"},[e("keep-alive",[e(t.currentName,{tag:"compontent"})],1)],1)])},staticRenderFns:[]};var Vi=e("VU/8")(Ni,$i,!1,function(t){e("bWzI")},null,null).exports,Ri={name:"ArtistDetail",props:{id:{type:String,required:!0}},components:{ArtTabsMenu:Vi},data:function(){return{artistInfo:{name:"",cover:"",briefDesc:"",albumSize:0,musicSize:0},imgUrl:"http://p4.music.126.net/LL43QzRrox3PzXblIwfSUQ==/109951165995568722.jpg",showPriMsg:!1,isSub:!1,userId:0}},watch:{id:function(t){console.log(t,"newVal"),this.getArtistDetail(t)}},created:function(){this.getArtistDetail(),this.getSubArtists()},methods:{getArtistDetail:function(){var t=this;w("/api/artist/detail?id="+this.id).then(function(i){console.log(i,"fg"),200===i.data.code&&(t.artistInfo=i.data.data.artist,t.showPriMsg=i.data.data.showPriMsg,t.showPriMsg&&(t.userId=i.data.data.user.userId),t.getSubArtists())})},getSubArtists:function(){var t=this;w("/api/artist/sublist").then(function(i){if(200===i.data.code){var e=i.data.data.find(function(i){return Number(i.id)===Number(t.id)});t.isSub=!!e}})},subArtists:function(){var t=this;w("/api/artist/sub?id="+this.id+"&t="+(this.isSub?0:1)).then(function(i){200===i.data.code&&(t.isSub?t.$message.error("取消成功"):t.$message.success("收藏成功"),t.isSub=!t.isSub,t.getSubArtists())}),this.$confirm("确认收藏？","确认信息",{distinguishCancelAndClose:!0,confirmButtonText:"确认",cancelButtonText:"放弃"}).then(function(){t.$message({type:"info",message:"绑定手机号或短信验证成功后，可进行下一步操作哦~"})})},toUserDetail:function(){0!==this.userId&&this.showPriMsg&&this.$router.push("/userdetail/"+this.userId)},toArtistDetail:function(t){"number"==typeof t&&this.$router.push("/artistdetail/"+t)}}},Pi={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"artist-detail mtop-20"},[e("div",{staticClass:"artist-info"},[e("div",{staticClass:"img-wrap"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.artistInfo.cover||t.imgUrl,expression:"artistInfo.cover || imgUrl"}],staticClass:"img-h image-radius-8 image-border"})]),t._v(" "),e("div",{staticClass:"info"},[e("div",{staticClass:"font-24 font-bold"},[t._v(t._s(t.artistInfo.name))]),t._v(" "),e("div",{staticClass:"info-btn"},[e("button",{staticClass:"btn btn-white mleft-10",on:{click:t.subArtists}},[t.isSub?e("span",[e("i",{staticClass:"el-icon-folder-checked"}),t._v(" 已收藏")]):e("span",[e("i",{staticClass:"el-icon-folder-add"}),t._v(" 收藏")])]),t._v(" "),t.showPriMsg?e("button",{staticClass:"btn btn-white mleft-10",on:{click:t.toUserDetail}},[e("i",{staticClass:"el-icon-user"}),t._v("\n          个人主页\n        ")]):t._e()]),t._v(" "),e("div",[e("span",{staticClass:"font-14"},[t._v("单曲数:"+t._s(t.artistInfo.albumSize))]),t._v(" "),e("span",{staticClass:"mleft-20 font-14"},[t._v("专辑数:"+t._s(t.artistInfo.albumSize))]),t._v(" "),e("span",{staticClass:"mleft-20 font-14"},[t._v("MV数:"+t._s(t.artistInfo.mvSize))])])])]),t._v(" "),e("art-tabs-menu",{key:t.id}),t._v(" "),e("el-backtop",{staticClass:"backtop",attrs:{target:".el-main"}})],1)},staticRenderFns:[]};var qi=e("VU/8")(Ri,Pi,!1,function(t){e("POpJ")},"data-v-d7bbb0d4",null).exports,Oi={props:{menuList:{type:Array,required:!0},mode:{type:String,default:"menu"}},data:function(){return{tabIndex:0}},watch:{"$route.path":{immediate:!0,handler:function(t){"router"===this.mode&&(this.tabIndex=this.menuList.findIndex(function(i){return i.path===t}))}}},methods:{handMenuClick:function(t,i){"menu"===this.mode?(this.tabIndex=t,this.$emit("menuClick",t)):"router"===this.mode&&this.$route.path!==i.path&&this.$router.push(i.path)}}},Wi={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("ul",{staticClass:"tab-menu"},t._l(t.menuList,function(i,s){return e("li",{key:s,staticClass:"pointer",class:{isActive:t.tabIndex===s},on:{click:function(e){return t.handMenuClick(s,i)}}},["menu"===t.mode?e("span",[t._v(t._s(i))]):"router"===t.mode?e("span",[t._v(t._s(i.name))]):t._e()])}),0)},staticRenderFns:[]};var ji=e("VU/8")(Oi,Wi,!1,function(t){e("ZeYL")},"data-v-ff6cffca",null).exports,Bi={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"tag",style:{color:this.color,backgroundColor:this.bgcolor,borderColor:this.color}},[this._v("\n"+this._s(this.text)+"\n\n")])},staticRenderFns:[]};var Hi=e("VU/8")({name:"Tag",props:["text","color","bgcolor"]},Bi,!1,function(t){e("IazY")},"data-v-5f985d74",null).exports,zi={name:"CollComment",components:{Comment:j}},Yi={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"collcomment"},[i("Comment",{attrs:{type:2,id:this.$route.params.id,scrollDom:".el-main",scrollOffset:80}})],1)},staticRenderFns:[]};var Qi=e("VU/8")(zi,Yi,!1,function(t){e("n+N7")},"data-v-59984148",null).exports,Gi={name:"FollowList",props:{list:{type:Array,required:!0,default:function(){}},type:{type:Number,required:!0}},methods:{clickImg:function(t){this.$emit("clickImg",t)}}},Zi={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"follow-list"},[e("div",{staticClass:"follow-list-wrap"},t._l(t.list,function(i){return e("div",{key:i.userId,staticClass:"follow-item"},[e("div",{staticClass:"img-wrap pointer",on:{click:function(e){return t.clickImg(i)}}},[e("img",{staticClass:"img img-h",attrs:{src:i.avatarUrl}})]),t._v(" "),e("div",{staticClass:"content-wrap"},[e("div",{staticClass:"content-item pointer text-hidden",on:{click:function(e){return t.clickImg(i)}}},[e("span",[t._v(t._s(i.nickname))]),t._v(" "),e("span",{staticClass:"mleft-10"},[1==i.gender?e("i",{staticClass:"el-icon-male",staticStyle:{color:"#3da1d1"}}):2==i.gender?e("i",{staticClass:"el-icon-female",staticStyle:{color:"#ea5a95"}}):t._e()])]),t._v(" "),e("div",{staticClass:"content-item text-hidden font-12"},[t._v(t._s(i.signature))])])])}),0)])},staticRenderFns:[]};var Ji={name:"Collectors",components:{FollowList:e("VU/8")(Gi,Zi,!1,function(t){e("GWqi")},"data-v-d0068cf6",null).exports},data:function(){return{suberList:[],pageInfo:{currentPage:1,total:0},isSubloading:!0}},created:function(){this.getSuberList()},watch:{id:function(){3===this.showtab&&(this.isSubloading=!0,this.getSuberList())}},methods:{getSuberList:function(){var t=this;w("/api/playlist/subscribers",{id:this.$route.params.id,limit:30,offset:30*(this.pageInfo.currentPage-1)},function(i){200===i.data.code&&(t.suberList=i.data.subscribers,t.pageInfo.total=i.data.total,t.isSubloading=!1)})},handleCurrentChange:function(t){this.pageInfo.currentPage=t,document.querySelector(".el-main").scrollTop=0,this.getSuberList()},toUserDetail:function(t){"object"===(void 0===t?"undefined":y()(t))&&this.$router.push("/userdetail/"+t.userId)}}},Ki={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[t.isSubloading?e("el-skeleton",{attrs:{rows:6,animated:""}}):0===this.pageInfo.total?e("div",{staticClass:"flex-center"},[t._v("\n            当前歌单没有收藏者\n          ")]):[e("FollowList",{attrs:{type:1,list:t.suberList},on:{clickImg:t.toUserDetail}}),t._v(" "),e("div",{staticClass:"flex-center",staticStyle:{width:"100%"}},[e("el-pagination",{attrs:{"current-page":t.pageInfo.currentPage,"page-size":30,layout:"prev, pager, next",total:t.pageInfo.total,background:""},on:{"current-change":t.handleCurrentChange}})],1)]],2)},staticRenderFns:[]};var Xi=e("VU/8")(Ji,Ki,!1,function(t){e("u7Hf")},"data-v-18a0e79e",null).exports,te={name:"PlayListDetail",props:{id:{type:String,required:!0}},components:{Tag:Hi,AlbumTabsMenu:ji,MusicList:z,CollComment:Qi,Collectors:Xi},computed:{showEditIcon:function(){return this.$store.state.isLogin&&this.$store.state.profile.userId===this.creator.userId&&0===this.info.specialType},subDisabled:function(){return!!this.$store.state.isLogin&&this.info.userId===this.$store.state.profile.userId},isShowMoreBtn:function(){return this.playList.length<this.info.trackCount&&this.playList.length<800},ImgUrl:function(){return this.info.coverImgUrl?""+this.info.coverImgUrl:""},list:function(){var t=this;return this.playList.filter(function(i){return i.musicName.match(t.key)})}},watch:{id:function(){this.getPlayListDetail()}},data:function(){return{key:"",info:{},showtab:1,creator:{},tags:[],playList:[],type:!1,subscribed:!1,isLoading:!0}},created:function(){this.getPlayListDetail()},methods:{getPlayListDetail:function(){var t=this;this.isLoading=!0,w("/api/playlist/detail",{id:this.id},function(i){200===i.data.code&&(t.info=i.data.playlist,t.creator=i.data.playlist.creator,t.subscribed=i.data.playlist.subscribed,t.tags=i.data.playlist.tags,t.playList=i.data.playlist.tracks.map(function(t){return at(t)}))}),this.isLoading=!1},playClickAll:function(){var t=this.playList[0].id;this.$store.commit("setMusicInfo",{musicList:this.playList,id:t})},subPlaylist:function(t){var i=this;if(!this.$store.state.isLogin)return this.$message.warning("需要登录");w("/api/playlist/subscribe?id="+this.id+"&t="+t).then(function(e){200===e.data.code&&(i.subscribed=!i.subscribed,1===t?i.$message.success("收藏成功"):i.$message.success("取消收藏成功"),setTimeout(function(){i.$store.dispatch("getMyPlayList")},1e3))})},loadCompletePlayList:function(){var t=this,i=[];this.info.trackIds.forEach(function(t){i.push(t.id)}),w("/api/song/detail?ids="+i.join(",")).then(function(e){200===e.data.code&&(t.playList=e.data.songs.map(function(t){return at(t)}),i.length>800&&(t.playList.slice(0,800),t.$message.error("太多歌曲了，只加载一部分")))})},handMenuClick:function(t){t+=1,this.showtab!==t&&(this.showtab=t)},toPlayListEdit:function(){this.$router.push("/playlistedit/"+this.id)},toUserDetail:function(t){"object"===(void 0===t?"undefined":y()(t))&&this.$router.push("/userdetail/"+t.userId)}}},ie={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"play-list-detail mtop-20"},[e("el-skeleton",{attrs:{loading:t.isLoading,animated:""}},[e("template",{slot:"template"},[e("el-skeleton-item",{staticStyle:{width:"180px",height:"180px"},attrs:{variant:"image"}}),t._v(" "),e("div",{staticStyle:{"padding-top":"14px"}},[e("el-skeleton-item",{staticStyle:{width:"50%"},attrs:{variant:"text"}}),t._v(" "),e("div",{staticStyle:{display:"flex","align-items":"center","justify-items":"space-between","margin-top":"16px",height:"16px"}},[e("el-skeleton-item",{staticStyle:{"margin-right":"16px"},attrs:{variant:"text"}}),t._v(" "),e("el-skeleton-item",{staticStyle:{width:"30%"},attrs:{variant:"text"}})],1)],1)],1),t._v(" "),[e("div",[e("div",{staticClass:"detail-desc"},[e("div",{staticClass:"detail-img-wrapper"},[e("img",{staticClass:"img image-radius-8 image-border",attrs:{src:t.ImgUrl}})]),t._v(" "),e("div",{staticClass:"detail-desc-info"},[e("div",{staticClass:"info-title"},[e("Tag",{attrs:{text:"歌单"}}),t._v(" "),e("span",{staticClass:"mleft-12 font-20 font-bold"},[t._v(t._s(t.info.name))]),t._v(" "),t.showEditIcon?e("span",{staticClass:"mleft-10 font-18 pointer",staticStyle:{color:"#a3a3a3"},on:{click:t.toPlayListEdit}},[e("i",{staticClass:"el-icon-edit"})]):t._e()],1),t._v(" "),e("div",{staticClass:"author"},[e("div",{staticClass:"author-img pointer",on:{click:function(i){return t.toUserDetail(t.creator)}}},[e("img",{staticClass:"img-h circle",attrs:{src:t.creator.avatarUrl}})]),t._v(" "),e("div",{staticClass:"author-info"},[e("span",{staticClass:"mleft-12 font-12 pointer",staticStyle:{color:"#0b58b0"},on:{click:function(i){return t.toUserDetail(t.creator)}}},[t._v("\n                  "+t._s(t.creator.nickname)+"\n                ")]),t._v(" "),e("span",{staticClass:"mleft-12 font-12"},[t._v("\n                  "+t._s(t._f("dateFormat")(t.info.createTime))+"\n                ")])])]),t._v(" "),e("div",{staticClass:"info-btn"},[e("button",{staticClass:"btn btn-red",on:{click:t.playClickAll}},[e("i",{staticClass:"iconfont icon-bofang"}),t._v(" "),e("span",{staticClass:"btn-text"},[t._v("播放全部")])]),t._v(" "),t.subscribed?e("button",{staticClass:"btn btn-white mleft-10",on:{click:function(i){return t.subPlaylist(2)}}},[e("i",{staticClass:"el-icon-folder-checked"}),t._v(" "),e("span",{staticClass:"btn-text"},[t._v("\n                  已收藏("+t._s(t._f("countFormat")(t.info.subscribedCount))+")\n                 ")])]):e("button",{staticClass:"btn btn-white mleft-10",attrs:{disabled:t.subDisabled},on:{click:function(i){return t.subPlaylist(1)}}},[e("i",{staticClass:"el-icon-folder-add"}),t._v(" "),e("span",{staticClass:"btn-text"},[t._v("\n                  收藏("+t._s(t._f("countFormat")(t.info.subscribedCount))+")\n                ")])]),t._v(" "),e("button",{staticClass:"btn btn-white mleft-10"},[e("i",{staticClass:"iconfont icon-fenxiang"}),t._v(" "),e("span",{staticClass:"btn-text"},[t._v("\n                  分享("+t._s(t._f("countFormat")(t.info.shareCount))+")\n                 ")])]),t._v(" "),e("button",{directives:[{name:"show",rawName:"v-show",value:t.isShowMoreBtn,expression:"isShowMoreBtn"}],staticClass:"btn btn-red mleft-10",on:{click:t.loadCompletePlayList}},[e("i",{staticClass:"el-icon-hot-water"}),t._v(" "),e("span",{staticClass:"btn-text"},[t._v("加载完整歌单")])])]),t._v(" "),0!==t.tags.length?e("div",{staticClass:"detail-tag font-14"},[e("span",[t._v("标签 ：")]),t._v(" "),t._l(t.tags,function(i,s){return e("span",{key:s,staticClass:"mright-10"},[t._v("\n                "+t._s(i)+"\n              ")])})],2):t._e(),t._v(" "),e("div",{staticClass:"num-info font-14"},[e("span",[t._v("歌曲 ："+t._s(t.info.trackCount))]),t._v(" "),e("span",{staticClass:"mleft-12"},[t._v("播放 ："+t._s(t._f("countFormat")(t.info.playCount)))])]),t._v(" "),e("div",{staticClass:"font-14"},[e("el-collapse",{attrs:{accordion:""}},[e("el-collapse-item",{staticClass:"brief"},[e("template",{slot:"title"},[t._v("\n                    简介:\n                    "),e("i",{staticClass:"header-icon el-icon-info"})]),t._v(" "),e("div",{staticStyle:{"max-width":"1000px"}},[t._v("\n                    "+t._s(t.info.description||"暂无简介")+"\n                  ")])],2)],1)],1)])]),t._v(" "),e("div",{staticClass:"detail-topwrapper"},[e("AlbumTabsMenu",{attrs:{menuList:["歌曲列表","评论("+t.info.commentCount+")","收藏者"]},on:{menuClick:t.handMenuClick}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.showtab,expression:"showtab === 1"}],staticClass:"detail-search"},[e("el-input",{attrs:{placeholder:"搜索音乐",clearable:"","suffix-icon":"el-icon-search"},model:{value:t.key,callback:function(i){t.key=i},expression:"key"}})],1)],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.showtab,expression:"showtab === 1"}]},[e("MusicList",{ref:"listRef",attrs:{list:t.list}}),t._v(" "),t.isShowMoreBtn?e("div",{staticClass:"flex-center more-btn"},[t._v("\n            点击 "),e("i",{staticClass:"el-icon-hot-water"}),t._v(" "),e("span",{staticClass:"btn-text"},[t._v("加载完整歌单")]),t._v(" 查看更多单曲\n          ")]):t._e()],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.showtab,expression:"showtab === 2"}]},[e("coll-comment",{attrs:{active:2==t.showtab}})],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:3===t.showtab,expression:"showtab === 3"}]},[e("collectors")],1)])]],2),t._v(" "),e("el-backtop",{staticClass:"backtop",attrs:{target:".el-main"}})],1)},staticRenderFns:[]};var ee=e("VU/8")(te,ie,!1,function(t){e("p5hv")},"data-v-0044cdb3",null).exports,se={name:"PlayListDetail",props:{id:{type:String,required:!0}},components:{Tag:Hi,AlbumTabsMenu:ji,MusicList:z,Comment:j},watch:{id:function(){this.getAlbumDetail()}},computed:{description:function(){return this.albumInfo.description?this.albumInfo.description.split("\n"):[]}},data:function(){return{albumInfo:{},list:[],isSub:!1,shareCount:0,commentCount:0,subCount:0,showtab:1}},created:function(){this.getAlbumDetail(),this.getAlbumDynamic()},methods:{getAlbumDetail:function(){var t=this;w("/api/album?id="+this.id).then(function(i){200===i.data.code&&(t.albumInfo=i.data.album,t.list=i.data.songs.map(function(t){return at(t)}))})},getAlbumDynamic:function(){var t=this;w("/api/album/detail/dynamic?id="+this.id).then(function(i){200===i.data.code&&(t.isSub=i.data.isSub,t.shareCount=i.data.shareCount,t.commentCount=i.data.commentCount,t.subCount=i.data.subCount)})},subAlbum:function(){var t=this;w("/api/album/sub?id="+this.id+"&t="+(this.isSub?0:1)).then(function(i){200===i.data.code&&(t.isSub=!t.isSub,t.isSub?t.$message.success("收藏成功"):t.$message.error("取消成功"))})},playAll:function(){this.$refs.listRef.playClickAll()},handMenuClick:function(t){this.showtab=t+1},toArtistDetail:function(t){"number"==typeof t&&this.$router.push("/artistdetail/"+t)}}},ae={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"album-detail mtop-20"},[e("div",{staticClass:"detail-desc"},[e("div",{staticClass:"detail-img-wrapper"},[e("img",{staticClass:"img image-radius-8 image-border",attrs:{src:t.albumInfo.picUrl}})]),t._v(" "),e("div",{staticClass:"detail-desc-info"},[e("div",{staticClass:"info-title"},[e("Tag",{attrs:{text:"专辑"}}),t._v(" "),e("span",{staticClass:"mleft-12 font-20 font-bold"},[t._v(t._s(t.albumInfo.name))])],1),t._v(" "),e("div",{staticClass:"info-btn"},[e("button",{staticClass:"btn btn-red",on:{click:t.playAll}},[e("i",{staticClass:"iconfont icon-bofang"}),t._v(" "),e("span",{staticClass:"btn-text"},[t._v("播放全部")])]),t._v(" "),t.isSub?e("button",{staticClass:"btn btn-white mleft-10",on:{click:function(i){return t.subAlbum(0)}}},[e("i",{staticClass:"el-icon-folder-checked"}),t._v(" "),e("span",{staticClass:"btn-text"},[t._v("\n            已收藏 ("+t._s(t._f("countFormat")(t.subCount))+")\n          ")])]):e("button",{staticClass:"btn btn-white mleft-10",on:{click:function(i){return t.subAlbum(1)}}},[e("i",{staticClass:"el-icon-folder-add"}),t._v(" "),e("span",{staticClass:"btn-text"},[t._v(" 收藏("+t._s(t._f("countFormat")(t.subCount))+") ")])]),t._v(" "),e("button",{staticClass:"btn btn-white mleft-10"},[e("i",{staticClass:"iconfont icon-fenxiang"}),t._v(" "),e("span",{staticClass:"btn-text"},[t._v(" 分享("+t._s(t._f("countFormat")(t.shareCount))+") ")])])]),t._v(" "),e("div",{staticClass:"author font-14"},[e("span",[t._v("歌手：")]),t._v(" "),t._l(t.albumInfo.artists,function(i){return e("span",{key:i.id,staticClass:"pointer author-name",on:{click:function(e){return t.toArtistDetail(i.id)}}},[t._v(t._s(i.name)+"\n        ")])})],2),t._v(" "),e("div",{},[e("span",{staticClass:"font-14"},[t._v("\n          时间："+t._s(t._f("dateFormat")(t.albumInfo.publishTime)))])])])]),t._v(" "),e("div",{staticClass:"detail-head"},[e("AlbumTabsMenu",{attrs:{menuList:["歌曲列表","评论","专辑详情"]},on:{menuClick:t.handMenuClick}})],1),t._v(" "),e("MusicList",{directives:[{name:"show",rawName:"v-show",value:1===t.showtab,expression:"showtab === 1"}],ref:"listRef",attrs:{list:t.list}}),t._v(" "),e("Comment",{directives:[{name:"show",rawName:"v-show",value:2==t.showtab,expression:"showtab == 2"}],attrs:{active:2==t.showtab,type:3,id:t.$route.params.id,scrollDom:".el-main"}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:3==t.showtab,expression:"showtab == 3"}]},[e("div",{staticClass:"font-bold"},[t._v("专辑介绍")]),t._v(" "),0!==t.description.length?e("div",{staticClass:"my-pre"},t._l(t.description,function(i,s){return e("p",{key:s},[t._v("\n        "+t._s(i)+"\n      ")])}),0):e("div",{staticStyle:{"text-align":"center"}},[t._v("没有专辑详情")])]),t._v(" "),e("el-backtop",{staticClass:"backtop",attrs:{target:".el-main"}})],1)},staticRenderFns:[]};var ne=e("VU/8")(se,ae,!1,function(t){e("rpeA")},"data-v-243b1b88",null).exports,oe={name:"PlayListDetail",props:{id:{type:String,required:!0}},components:{ImgList:tt,AlbumTabsMenu:ji},watch:{id:function(){this.list=[],this.getUserDetail(),this.getUserPlayList()}},computed:{sex:function(){return 1===this.info.gender?"男":"女"},userId:function(){return this.info.userId},creList:function(){var t=this;return this.list.filter(function(i){return i.userId===t.userId})},subList:function(){var t=this;return this.list.filter(function(i){return i.userId!==t.userId})}},data:function(){return{info:{},list:[],level:0,followed:!1,offset:0,showtab:1}},created:function(){this.getUserDetail(),this.getUserPlayList()},methods:{getUserDetail:function(){var t=this;w("/api/user/detail?uid="+this.id).then(function(i){200===i.data.code&&(t.info=i.data.profile,t.level=i.data.level,t.followed=i.data.profile.followed,t.getCityInfo())})},getUserPlayList:function(){var t=this;w("/api/user/playlist?uid="+this.id+"&offset="+this.offset+"&limit=30&timestamp="+Date.now()).then(function(i){if(200===i.data.code){var e;if(0===t.list.length)t.list=i.data.playlist;else(e=t.list).push.apply(e,ft()(i.data.playlist));i.data.more&&(t.offset+=30,t.getUserPlayList())}})},follow:function(){var t=this;if(!this.$store.state.isLogin)return this.$message.warning("需要登录");w("/api/follow?id="+this.info.userId+"&t="+(this.followed?0:1)+"&timestamp="+Date.now()).then(function(i){if(200!==i.data.code)return t.$message.error("操作失败");t.$message.success(t.followed?"取关成功":"关注成功"),t.followed=!t.followed}),this.$confirm("确认收藏？","确认信息",{distinguishCancelAndClose:!0,confirmButtonText:"确认",cancelButtonText:"放弃"}).then(function(){t.$message({type:"info",message:"绑定手机号或短信验证成功后，可进行下一步操作哦~"})})},getCityInfo:function(){var t=this;w("/static/city.json").then(function(i){var e=i.data.find(function(i){return i.value===t.info.city.toString()})||{},s=(e.children||[]).find(function(i){return i.value===f()(t.info.city)});t.info.city=e&&s?e.label+s.label:"未知"})},handMenuClick:function(t){this.showtab=t+1},toPlayListDetail:function(t){this.$router.push({path:"/playlistdetail/"+t})},UserEdit:function(){this.$router.push("/useredit")}}},re={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"user-detail mtop-20"},[e("div",{staticClass:"user-info"},[e("div",{staticClass:"user-img-wrapper"},[e("img",{staticClass:"img image-radius-8 image-border",attrs:{src:t.info.avatarUrl}})]),t._v(" "),e("div",{staticClass:"info-wrap mleft-20"},[e("div",{staticClass:"font-24 font-bold"},[t._v(t._s(t.info.nickname))]),t._v(" "),e("div",{staticClass:"info-btn"},[e("div",[e("el-tag",{staticClass:"font-12 level-wrap",attrs:{size:"medium",effect:"plain"}},[t._v("Lv."+t._s(t.level))]),t._v(" "),e("span",{staticClass:"font-14 sex-wrap"},[1==t.info.gender?e("i",{staticClass:"el-icon-male",staticStyle:{color:"#3da1d1"}}):2==t.info.gender?e("i",{staticClass:"el-icon-female",staticStyle:{color:"#ea5a95"}}):t._e()])],1),t._v(" "),this.$store.state.isLogin&&this.$store.state.profile.userId===t.userId?e("div",[e("el-button",{staticClass:"btn btn-white",attrs:{size:"small",round:"",plain:""},on:{click:t.UserEdit}},[e("i",{staticClass:"el-icon-edit"}),t._v("编辑个人信息\n              ")])],1):e("div",[e("el-button",{attrs:{size:"small",round:"",plain:""}},[e("i",{staticClass:"el-icon-message"}),t._v("发私信\n          ")]),t._v(" "),e("el-button",{staticClass:"btn btn-white mleft-10",attrs:{size:"small",round:"",plain:""},on:{click:t.follow}},[t.followed?[e("i",{staticClass:"el-icon-check"}),t._v(" 已关注\n                ")]:[e("i",{staticClass:"el-icon-plus"}),t._v(" 关注\n                ")]],2)],1)]),t._v(" "),e("div",{staticClass:"div-line"}),t._v(" "),e("div",{staticClass:"info-num mtop-10"},[e("div",{staticClass:"num-item"},[e("el-tag",{staticClass:"item-text font-12",attrs:{type:"danger"}},[t._v("动态")]),t._v(" "),e("el-tag",{staticClass:"font-20 font-bold",attrs:{type:"danger",effect:"plain"}},[t._v(t._s(t.info.eventCount))])],1),t._v(" "),e("div",{staticClass:"num-item"},[e("el-tag",{staticClass:"item-text font-12",attrs:{type:"warning"}},[t._v("关注")]),t._v(" "),e("el-tag",{staticClass:"font-20 font-bold",attrs:{type:"warning",effect:"plain"}},[t._v(t._s(t.info.follows))])],1),t._v(" "),e("div",{staticClass:"num-item"},[e("el-tag",{staticClass:"item-text font-12",attrs:{type:"success"}},[t._v("粉丝")]),t._v(" "),e("el-tag",{staticClass:"font-20 font-bold",attrs:{type:"success",effect:"plain"}},[t._v(t._s(t.info.followeds))])],1)]),t._v(" "),t.info.city?e("div",{staticClass:"desc-item mtop-10 font-14"},[t._v("所在地区:"+t._s(t.info.city))]):t._e(),t._v(" "),e("el-collapse",{attrs:{accordion:""}},[e("el-collapse-item",{staticClass:"brief"},[e("template",{slot:"title"},[t._v("\n                    个人介绍：\n                    "),e("i",{staticClass:"header-icon el-icon-info"})]),t._v(" "),e("div",{staticStyle:{"max-width":"1000px"}},[t._v("\n                    "+t._s(t.info.signature||"暂无简介")+"\n                  ")])],2)],1)],1)]),t._v(" "),e("div",{staticClass:"menu-wrap mtop-20"},[e("AlbumTabsMenu",{attrs:{menuList:["创建的歌单","收藏的歌单"]},on:{menuClick:t.handMenuClick}})],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:1===t.showtab,expression:"showtab === 1"}],staticClass:"mtop-20"},[e("ImgList",{attrs:{list:t.creList,type:"playlist"},on:{clickImg:t.toPlayListDetail},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.item;return[e("div",{staticClass:"text-hidden"},[t._v("\n          "+t._s(s.name)+"\n        ")])]}}])})],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:2===t.showtab,expression:"showtab === 2"}],staticClass:"mtop-20"},[0!==t.subList.length?e("div",[e("ImgList",{attrs:{list:t.subList,type:"playlist"},on:{clickImg:t.toPlayListDetail},scopedSlots:t._u([{key:"default",fn:function(i){var s=i.item;return[e("div",{staticClass:"text-hidden"},[t._v("\n          "+t._s(s.name)+"\n        ")])]}}],null,!1,3183750024)})],1):e("div",[t._v("该用户没有收藏的歌单或用户设置了隐私模式")])])])},staticRenderFns:[]};var le=e("VU/8")(oe,re,!1,function(t){e("d/eq")},"data-v-07a0b305",null).exports,ce={name:"AllMv",components:{MvList:Ot},data:function(){return{catList:{area:["全部","内地","港台","欧美","日本","韩国"],type:["全部","官方版","原生","现场版","网易出品"],order:["上升最快","最热","最新"]},queryInfo:{area:"全部",type:"全部",order:"最新",limit:16},offset:0,mvList:[],hasMore:!0,isLoading:!1,mode:"first"}},computed:{disabled:function(){return this.loading||!this.hasMore}},watch:{queryInfo:{deep:!0,handler:function(){this.mode="first",this.getMvList()}}},created:function(){this.getQuery(),this.getMvList()},methods:{getMvList:function(){var t=this;w("/api/mv/all?limit=16&offset=0&area="+this.queryInfo.area+"&order="+this.queryInfo.order+"&type="+this.queryInfo.type).then(function(i){var e;200===i.data.code&&("first"===t.mode?t.mvList=i.data.data:(e=t.mvList).push.apply(e,ft()(i.data.data)),t.hasMore=i.data.hasMore)})},getQuery:function(){var t=this.$route.query;t.area&&-1!==this.catList.area.findIndex(function(i){return i===t.area})&&(this.queryInfo.area=t.area),t.type&&-1!==this.catList.type.findIndex(function(i){return i===t.type})&&(this.queryInfo.type=t.type)},load:function(t){this.offset=t+16,this.mode="more",this.getMvList()}}},ue={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"mtop-20 all-mv"},[e("div",{staticClass:"all-title font-20 font-bold"},[t._v("全部MV")]),t._v(" "),e("div",{ref:"tagRef",staticClass:"tag-wrapper"},[e("div",{staticClass:"radio-list"},[e("span",{staticClass:"w-60"},[t._v("地区：")]),t._v(" "),e("el-radio-group",{model:{value:t.queryInfo.area,callback:function(i){t.$set(t.queryInfo,"area",i)},expression:"queryInfo.area"}},t._l(t.catList.area,function(i,s){return e("el-radio",{key:s,attrs:{label:i}},[t._v("\n                      "+t._s(i)+"\n                  ")])}),1)],1),t._v(" "),e("div",{staticClass:"radio-list"},[e("span",{staticClass:"w-60"},[t._v("类型：")]),t._v(" "),e("el-radio-group",{model:{value:t.queryInfo.type,callback:function(i){t.$set(t.queryInfo,"type",i)},expression:"queryInfo.type"}},t._l(t.catList.type,function(i,s){return e("el-radio",{key:s,attrs:{label:i}},[t._v("\n                     "+t._s(i)+"\n                 ")])}),1)],1),t._v(" "),e("div",{staticClass:"radio-list"},[e("span",{staticClass:"w-60"},[t._v("排序：")]),t._v(" "),e("el-radio-group",{model:{value:t.queryInfo.order,callback:function(i){t.$set(t.queryInfo,"order",i)},expression:"queryInfo.order"}},t._l(t.catList.order,function(i,s){return e("el-radio",{key:s,attrs:{label:i}},[t._v("\n                  "+t._s(i)+"\n              ")])}),1)],1)]),t._v(" "),e("MvList",{attrs:{list:t.mvList,disabled:t.disabled},on:{loadMore:t.load}}),t._v(" "),e("el-backtop",{staticClass:"backtop",attrs:{target:".el-main"}})],1)},staticRenderFns:[]};var de=e("VU/8")(ce,ue,!1,function(t){e("7+T9")},"data-v-8023b30e",null).exports,me={name:"TopMv",components:{MvTopList:Bt},data:function(){return{areaList:["全部","内地","港台","欧美","日本","韩国"],area:"全部",queryInfo:{limit:50,offset:0,area:""},list:[]}},created:function(){var t=this;this.$route.query.area&&-1!==this.areaList.findIndex(function(i){return i===t.$route.query.area})&&(this.area=this.$route.query.area,this.queryInfo.area=this.area),this.getTopData()},methods:{area_active:function(t){return this.area===t},changeArea:function(t){this.area=t,this.queryInfo.area="全部"!==t?t:"",this.getTopData()},getTopData:function(){var t=this;w("/api/top/mv?area="+this.queryInfo.area+"&limit="+this.queryInfo.limit+"&offset=0").then(function(i){200===i.data.code&&(t.list=i.data.data)})}}},fe={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"mtop-20 top-mv"},[e("div",{staticClass:"font-20 font-bold"},[t._v("MV排行榜")]),t._v(" "),e("div",{staticClass:"top-mv-head"},[e("div",{staticClass:"font-12",staticStyle:{color:"#9f9f9f"}},[t._v("最近更新：今天")]),t._v(" "),e("div",{staticClass:"btn-wrap"},t._l(t.areaList,function(i){return e("button",{key:i,staticClass:"btn-tag",class:{"btn-tag_active":t.area_active(i)},on:{click:function(e){return t.changeArea(i)}}},[t._v("\n        "+t._s(i)+"\n      ")])}),0)]),t._v(" "),e("MvTopList",{attrs:{list:t.list}})],1)},staticRenderFns:[]};var ve=e("VU/8")(me,fe,!1,function(t){e("KC8a")},"data-v-62d52d84",null).exports,he={name:"VideoDetail",components:{Comment:j},props:{id:{type:String,required:!0},type:{type:String,required:!0}},data:function(){return{deTail:{},urlInfo:{},RelatedList:[],countInfo:{likedCount:0,shareCount:0,commentCount:0,liked:!1},followed:!1,subed:!1}},computed:{title:function(){return"v"===this.type?"视频详情":"MV详情"},creator:function(){return("v"===this.type?this.deTail.creator:(this.deTail.artists||[])[0])||{}},avatarUrl:function(){return this.creator.avatarUrl||this.creator.img1v1Url},nickName:function(){return this.creator.nickname||this.creator.name},likedInfo:function(){return this.countInfo.liked?"已赞":"赞"},resoureType:function(){return"v"===this.type?5:1}},watch:{id:function(){this.getDetail(),this.getVideoUrl(),this.getRelatedVideo(),this.getVideoLike()},type:{immediate:!0,handler:function(t){"mv"!==t&&"v"!==t&&this.$router.push("/404")}}},created:function(){this.getVideoDetail(),this.getVideoUrl(),this.getRelatedVideo(),this.getVideoLike()},methods:{getVideoDetail:function(){var t=this;"mv"===this.type&&w("/api/mv/detail?mvid="+this.id).then(function(i){200===i.data.code&&(t.deTail=i.data.data,t.subed=i.data.subed)}),"v"===this.type&&w("/api/video/detail?id="+this.id).then(function(i){200===i.data.code&&(t.deTail=i.data.data,t.followed=i.data.data.creator.followed)})},getVideoUrl:function(){var t=this;"mv"===this.type&&w("/api/mv/url?id="+this.id).then(function(i){200===i.data.code&&(console.log(i,"fr"),t.urlInfo=i.data.data,console.log(t.urlInfo,"uil"))}),"v"===this.type&&w("/api/video/url?id="+this.id).then(function(i){200===i.data.code&&(t.urlInfo=i.data.urls[0])})},getRelatedVideo:function(){var t=this;"v"===this.type&&w("/api/related/allvideo?id="+this.id).then(function(i){200===i.data.code&&(t.RelatedList=i.data.data)}),"mv"===this.type&&w("/api/personalized/mv").then(function(i){200===i.data.code&&(t.RelatedList=i.data.result)})},getVideoLike:function(){var t=this;"v"===this.type&&w("/api/video/detail/info?vid="+this.id).then(function(i){200===i.data.code&&(t.countInfo=i.data)}),"mv"===this.type&&w("/api/mv/detail/info?mvid="+this.id).then(function(i){200===i.data.code&&(t.countInfo=i.data)})},likeVideo:function(){var t=this;w("/api/resource/like?t="+(this.countInfo.liked?0:1)+"&type="+this.resoureType+"&id="+this.id).then(function(i){200===i.data.code&&t.getVideoLike()})},follow:function(){var t=this;w("/api/follow?id="+this.creator.userId+"&t="+(this.followed?0:1)).then(function(i){200===i.data.code&&(t.$message.success(t.followed?"取关成功":"关注成功"),t.followed=!t.followed)})},subVideo:function(){var t=this;"v"===this.type&&w("/api/video/sub?id="+this.id+"&t="+(this.subed?0:1)+"&type="+this.type).then(function(i){200===i.data.code&&(t.$message.success(t.subed?"取消成功":"收藏成功"),t.subed=!t.subed)}),"mv"===this.type&&w("/api/mv/sub?mvid="+this.id+"&t="+(this.subed?0:1)+"&type="+this.type).then(function(i){200===i.data.code&&(t.$message.success(t.subed?"取消成功":"收藏成功"),t.subed=!t.subed)})},toVideoDetail:function(t){"v"===this.type&&("undefined"!=typeof vid?this.$router.push("/videodetail/v/"+t.vid):void 0!==t.id&&this.$router.push("/videodetail/mv/"+t.id))},toUorADetail:function(){"v"===this.type&&(void 0!==this.creator.userId?this.$router.push("/userdetail/"+this.creator.userId):void 0!==this.creator.id&&this.$router.push("/artistdetail/"+this.creator.id))},relatedNickName:function(t){return t.creator?t.creator[0].userName:t.artists?t.artists[0].name:""},relatedImgUrl:function(t){return t.coverUrl||t.picUrl},toVideo:function(){this.$router.push("/video")}}},pe={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"video-detail"},[e("div",{staticClass:"vd-main"},[e("div",{staticClass:"video-container"},[e("div",[e("button",{staticClass:"no-btn font-16 font-bold mtop-10",on:{click:t.toVideo}},[e("i",{staticClass:"el-icon-arrow-left"},[t._v(t._s(t.title))])])]),t._v(" "),e("div",{staticClass:"video-wrap mtop-10"},[e("video",{attrs:{autoplay:"",controls:"",src:t.urlInfo.url}},[t._v("\n                您的浏览器不支持 video 标签。\n                ")])]),t._v(" "),e("div",{staticClass:"info-wrap"},[e("div",{staticClass:"creator-info"},[e("div",{staticClass:"img-wrap font-14"},[e("img",{staticClass:"pointer",attrs:{src:t.avatarUrl}}),t._v(" "),e("span",{staticClass:"mleft-10 pointer"},[t._v(t._s(t.nickName))])]),t._v(" "),"v"===t.type?e("div",{staticClass:"font-14"},[e("button",{staticClass:"sub-btn pointer",class:{isfollow:t.followed},on:{click:t.follow}},[t.followed?[e("i",{staticClass:"el-icon-check"}),t._v(" 已关注 ")]:[e("i",{staticClass:"el-icon-plus"}),t._v(" 关注\n                        ")]],2)]):t._e()]),t._v(" "),e("div",{staticClass:"video-info"},[e("div",{staticClass:"font-18 mtop-10 font-bold"},[t._v(t._s(t.deTail.title||t.deTail.name))]),t._v(" "),e("div",{staticClass:"font-12 mtop-10",staticStyle:{color:"#cfcfcf"}},[e("span",[t._v("发布时间:"+t._s(t._f("dateFormat")(t.deTail.publishTime)))]),t._v(" "),e("span",{staticClass:"mleft-20"},[t._v("播放次数:"+t._s(t._f("countFormat")(t.deTail.playTime||t.deTail.playCount)))])]),t._v(" "),e("div",{staticClass:"tag mtop-10"},t._l(t.deTail.videoGroup,function(i){return e("div",{key:i.id},[e("button",{staticClass:"tag-btn"},[t._v(t._s(i.name))])])}),0)])]),t._v(" "),e("div",{staticClass:"video-btn mtop-20"},[e("button",{staticClass:"btn btn-white",on:{click:t.likeVideo}},[e("i",{staticClass:"iconfont icon-good",class:{icon_liked:t.countInfo.liked}}),t._v(" "),e("span",{staticClass:"btn-text"},[t._v(t._s(t.likedInfo))]),t._v("\n                    ("+t._s(t.countInfo.likedCount)+")\n                ")]),t._v(" "),e("button",{staticClass:"btn btn-white mleft-10",on:{click:t.subVideo}},[e("span",{directives:[{name:"show",rawName:"v-show",value:!t.subed,expression:"!subed"}]},[e("i",{staticClass:"el-icon-folder-add"}),t._v(" "),e("span",{staticClass:"btn-text"},[t._v("收藏")])]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.subed,expression:"subed"}]},[e("i",{staticClass:"el-icon-folder-checked"}),t._v(" "),e("span",{staticClass:"btn-text"},[t._v("已收藏")])]),t._v("\n                    ("+t._s(t.deTail.subscribeCount||t.deTail.subCount)+")\n                ")]),t._v(" "),e("button",{staticClass:"btn btn-white mleft-10"},[e("i",{staticClass:"iconfont icon-fenxiang"}),t._v(" "),e("span",{staticClass:"btn-text"},[t._v("分享")]),t._v("\n                    ("+t._s(t.deTail.shareCount)+")\n                ")])])]),t._v(" "),e("div",{staticClass:"comment-container"},[e("div",{staticClass:"mbottom-10"},[e("span",{staticClass:"font-bold font-20"},[t._v("评论")]),t._v(" "),e("span",[t._v("("+t._s(t.countInfo.commentCount)+")")])]),t._v(" "),e("Comment",{attrs:{active:!0,type:t.resoureType,id:t.id,scrollDom:".el-main"}})],1)]),t._v(" "),e("div",{staticClass:"vd-right"},[e("div",{staticClass:"recom"},[e("div",{staticClass:"font-bold mtop-10"},[t._v("相关推荐")]),t._v(" "),e("div",{staticClass:"link mtop-10"},t._l(t.RelatedList,function(i,s){return e("div",{key:s,staticClass:"link-recom mtop-10"},[e("div",{staticClass:"link-img"},[e("img",{staticClass:"img-h img pointer",attrs:{src:t.relatedImgUrl(i)},on:{click:function(e){return t.toVideoDetail(i)}}})]),t._v(" "),e("div",{staticClass:"xg-info mleft-10"},[e("div",{staticClass:"mtop-10 font-14 title pointer",on:{click:function(e){return t.toVideoDetail(i)}}},[t._v("\n                        "+t._s(i.title||i.name)+"\n                    ")]),t._v(" "),e("div",{staticClass:"font-12 mtop-10 pointer",staticStyle:{color:"#9f9f9f"}},[t._v("\n                        by "+t._s(t.relatedNickName(i))+"\n                    ")])])])}),0)])]),t._v(" "),e("el-backtop",{staticClass:"backtop",attrs:{target:".el-main"}})],1)},staticRenderFns:[]};var ge=e("VU/8")(he,pe,!1,function(t){e("utPO")},"data-v-ea402c10",null).exports,be={name:"Search",components:{MusicList:z,InfoList:_t,MvList:Ot},data:function(){return{searchInfo:{keywords:"",limit:30,offset:0,type:1},searchType:[1,10,100,1e3,1002,1004],sizeText:["首","张","位","个","位","个"],text:["单曲","专辑","歌手","歌单","用户","MV"],total:0,searchList:{musicList:[],albumList:[],artistList:[],playList:[],userList:[],mvList:[]},isLoading:!0,vIndex:0}},computed:{currentPage:function(){return this.searchInfo.offset/this.searchInfo.limit+1},desInfo:function(){return this.sizeText[this.vIndex]+this.text[this.vIndex]},emptyInfo:function(){return"很抱歉，未能找到与"+this.searchInfo.keywords+"有关的"+this.text[this.vIndex]}},watch:{"$route.params.key":function(t){this.searchInfo.keywords=t,this.search()},vIndex:function(t){this.searchInfo.type=this.searchType[t],this.searchInfo.offset=0,this.search()}},created:function(){this.searchInfo.keywords=this.$route.params.key,this.search()},methods:{search:function(){var t=this;this.isLoading=!0,w("/api/cloudsearch?limit=30&offset="+this.searchInfo.offset+"&type="+this.searchInfo.type+"&keywords="+this.searchInfo.keywords).then(function(i){if(0===h()(i.data.result).length)return t.total=0,void(t.isLoading=!1);switch(t.vIndex){case 0:t.searchList.musicList=i.data.result.songs.map(function(t){return at(t)}),t.total=i.data.result.songCount;break;case 1:t.searchList.albumList=i.data.result.albums,t.total=i.data.result.albumCount;break;case 2:t.searchList.artistList=i.data.result.artists,t.total=i.data.result.artistCount;break;case 3:t.searchList.playList=i.data.result.playlists,t.total=i.data.result.playlistCount;break;case 4:t.searchList.userList=i.data.result.userprofiles,t.total=i.data.result.userprofileCount;break;case 5:t.searchList.mvList=i.data.result.mvs,t.total=i.data.result.mvCount}}),this.isLoading=!1},handMenuClick:function(t){console.log(t),this.vIndex=t},handleCurrentChange:function(t){this.searchInfo.offset=30*(t-1),this.search()},toAlbumDetail:function(t){this.$router.push("/albumdetail/"+t.id)},toArtistDetail:function(t){this.$router.push("/artistdetail/"+t.id)},toPlayListDetail:function(t){this.$router.push("/playlistdetail/"+t.id)},toUserDetail:function(t){this.$router.push("/userdetail/"+t.userId)}}},ye={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"search-list mtop-20"},[e("div",{staticClass:"font-bold"},[t._v("找到 "+t._s(t.total)+" "+t._s(t.desInfo))]),t._v(" "),e("div",{staticClass:"search-menu"},t._l(t.text,function(i,s){return e("div",{key:s,staticClass:"pointer search-menu-item",class:{isActive:t.vIndex===s},on:{click:function(i){return t.handMenuClick(s)}}},[t._v("\n      "+t._s(i)+"\n    ")])}),0),t._v(" "),t.isLoading?e("el-skeleton",{attrs:{rows:12,animated:""}}):0!==t.total?[0===t.vIndex?e("MusicList",{attrs:{list:t.searchList.musicList}}):t._e(),t._v(" "),1===t.vIndex?e("InfoList",{attrs:{list:t.searchList.albumList},on:{clickitem:t.toAlbumDetail},scopedSlots:t._u([{key:"img",fn:function(t){var i=t.item;return[e("img",{staticClass:"sub-img mleft-10",attrs:{src:i.picUrl+"?param=100y100"}})]}},{key:"title",fn:function(i){var e=i.item;return[t._v("\n        "+t._s(e.name)+"\n      ")]}},{key:"item1",fn:function(i){var s=i.item;return[e("span",{staticStyle:{color:"#676767"}},[t._v(t._s(s.artist.name))])]}}],null,!1,1750058840)}):t._e(),t._v(" "),2===t.vIndex?e("InfoList",{attrs:{list:t.searchList.artistList},on:{clickitem:t.toArtistDetail},scopedSlots:t._u([{key:"img",fn:function(t){var i=t.item;return[e("img",{staticClass:"sub-img mleft-10",attrs:{src:i.picUrl+"?param=100y100"}})]}},{key:"title",fn:function(i){var e=i.item;return[t._v("\n        "+t._s(e.name)+"\n      ")]}}],null,!1,4272823654)}):t._e(),t._v(" "),3===t.vIndex?e("InfoList",{attrs:{list:t.searchList.playList},on:{clickitem:t.toPlayListDetail},scopedSlots:t._u([{key:"img",fn:function(t){var i=t.item;return[e("img",{staticClass:"sub-img mleft-10",attrs:{src:i.coverImgUrl+"?param=100y100"}})]}},{key:"title",fn:function(i){var e=i.item;return[t._v("\n        "+t._s(e.name)+"\n      ")]}},{key:"item1",fn:function(i){var e=i.item;return[t._v(" "+t._s(e.trackCount)+" 首 ")]}},{key:"item2",fn:function(i){var s=i.item;return[t._v("\n        by "),e("span",{staticStyle:{color:"#676767"}},[t._v(t._s(s.creator.nickname))])]}}],null,!1,2681961979)}):t._e(),t._v(" "),4===t.vIndex?e("InfoList",{attrs:{list:t.searchList.userList},on:{clickitem:t.toUserDetail},scopedSlots:t._u([{key:"img",fn:function(t){var i=t.item;return[e("img",{staticClass:"sub-img mleft-10",attrs:{src:i.avatarUrl+"?param=100y100",alt:""}})]}},{key:"title",fn:function(i){var e=i.item;return[t._v("\n        "+t._s(e.nickname)+"\n      ")]}}],null,!1,3619325101)}):t._e(),t._v(" "),5===t.vIndex?e("MvList",{attrs:{disabled:!0,list:t.searchList.mvList}}):t._e()]:e("el-empty",{attrs:{description:t.emptyInfo}}),t._v(" "),0!==t.total?e("div",{staticClass:"flex_center"},[e("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":30,layout:"prev, pager, next",total:t.total,background:""},on:{"current-change":t.handleCurrentChange}})],1):t._e()],2)},staticRenderFns:[]};var _e=e("VU/8")(be,ye,!1,function(t){e("z9Sw")},"data-v-6baad27b",null).exports,Ce={name:"UserEdit",data:function(){return{form:{nickname:"",gender:0,birthday:"",signature:""}}},computed:{dialogImageUrl:function(){return this.$store.state.profile.avatarUrl?this.$store.state.profile.avatarUrl:""}},created:function(){this.getInfo()},methods:{getInfo:function(){var t=this;this.$store.state.isLogin?(this.form.gender=this.$store.state.profile.gender,this.form.signature=this.$store.state.profile.signature,this.form.nickname=this.$store.state.profile.nickname,this.form.birthday=new Date(this.$store.state.profile.birthday)):setTimeout(function(){t.getInfo()},2e3)},onSubmit:function(){var t=this;w("/api/user/update?gender="+this.form.gender+"&signature="+this.form.signature+"&nickname="+this.form.nickname+"&birthday="+this.form.birthday.getTime()).then(function(i){t.$message.success("更新成功"),t.$store.dispatch("getAcount")})}}},we={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"user-edit mtop-20"},[e("span",{staticClass:"font-20 font-bold"},[t._v("编辑个人信息")]),t._v(" "),e("div",{staticClass:"form-info mtop-20"},[e("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px",size:"mini"}},[e("el-form-item",{attrs:{label:"昵称:"}},[e("el-input",{model:{value:t.form.nickname,callback:function(i){t.$set(t.form,"nickname",i)},expression:"form.nickname"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"介绍:"}},[e("el-input",{attrs:{type:"textarea"},model:{value:t.form.signature,callback:function(i){t.$set(t.form,"signature",i)},expression:"form.signature"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"性别:"}},[e("el-radio-group",{model:{value:t.form.gender,callback:function(i){t.$set(t.form,"gender",i)},expression:"form.gender"}},[e("el-radio-button",{attrs:{label:0}},[t._v("保密")]),t._v(" "),e("el-radio-button",{attrs:{label:1}},[t._v("男")]),t._v(" "),e("el-radio-button",{attrs:{label:2}},[t._v("女")])],1)],1),t._v(" "),e("el-form-item",{attrs:{label:"生日:"}},[e("el-col",{attrs:{span:11}},[e("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.form.birthday,callback:function(i){t.$set(t.form,"birthday",i)},expression:"form.birthday"}})],1)],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("保存")]),t._v(" "),e("el-button",{on:{click:function(i){return t.$router.back()}}},[t._v("取消")])],1)],1),t._v(" "),e("div",{staticClass:"avatar-uploader"},[t.dialogImageUrl?e("img",{staticClass:"avatar",attrs:{src:t.dialogImageUrl}}):e("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)])},staticRenderFns:[]};var ke=e("VU/8")(Ce,we,!1,function(t){e("EXjI")},"data-v-0f4b0566",null).exports,Ie={name:"LoginByPhone",data:function(){var t=this;return{ruleForm:{pass:"",checkPass:"",phone:"",md5_password:""},rules:{pass:[{validator:function(i,e,s){""===e?s(new Error("请输入密码")):(""!==t.ruleForm.checkPass&&t.$refs.ruleForm.validateField("checkPass"),s())},trigger:"blur"}],checkPass:[{validator:function(i,e,s){""===e?s(new Error("请再次输入密码")):e!==t.ruleForm.pass?s(new Error("两次输入密码不一致!")):s()},trigger:"blur"}],phone:[{validator:function(i,e,s){if(!e)return s(new Error("手机号不能为空"));setTimeout(function(){""==t.ruleForm.phone||t.ruleForm.phone.length<=10||!/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(t.ruleForm.phone)?s(new Error("手机号错误")):s()},1e3)},trigger:"blur"}]}}},methods:{submitForm:function(t){var i=this;this.$refs[t].validate(function(t){i.ruleForm.md5_password=l()(i.ruleForm.pass),w("/api/login/cellphone?phone="+i.ruleForm.phone+"&md5_password="+i.ruleForm.md5_password).then(function(t){if(!i.ruleForm.phone)return console.log("登录失败"),!1;i.$message.success("登录成功"),i.$router.push("/home")})})},resetForm:function(t){this.$refs[t].resetFields()}}},Le={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[e("el-input",{attrs:{placeholder:"请输入手机号","prefix-icon":"el-icon-mobile",clearable:""},model:{value:t.ruleForm.phone,callback:function(i){t.$set(t.ruleForm,"phone",i)},expression:"ruleForm.phone"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"密码",prop:"pass"}},[e("el-input",{attrs:{type:"password","prefix-icon":"el-icon-key",placeholder:"请输入密码",clearable:""},model:{value:t.ruleForm.pass,callback:function(i){t.$set(t.ruleForm,"pass",i)},expression:"ruleForm.pass"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"确认密码",prop:"checkPass"}},[e("el-input",{attrs:{type:"password","prefix-icon":"el-icon-key",placeholder:"请确认密码",clearable:""},model:{value:t.ruleForm.checkPass,callback:function(i){t.$set(t.ruleForm,"checkPass",i)},expression:"ruleForm.checkPass"}})],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.submitForm("ruleForm")}}},[t._v("登录")]),t._v(" "),e("el-button",{on:{click:function(i){return t.resetForm("ruleForm")}}},[t._v("重置")])],1)],1)],1)},staticRenderFns:[]};var Ae=e("VU/8")(Ie,Le,!1,function(t){e("gAw+")},"data-v-2aa4c859",null).exports,xe={name:"LoginByCode",data:function(){var t=this;return{ruleForm:{verification:"",phone:""},rules:{verification:[{required:!0,message:"请输入验证码",trigger:"blur"}],phone:[{validator:function(i,e,s){if(!e)return s(new Error("手机号不能为空"));setTimeout(function(){""==t.ruleForm.phone||t.ruleForm.phone.length<=10||!/^[1][3,4,5,6,7,8,9][0-9]{9}$/.test(t.ruleForm.phone)?s(new Error("手机号错误")):s()},1e3)},trigger:"blur"}]},count:"",show:"false"}},methods:{getCode:function(){var t=this;w("/api/captcha/sent?phone="+this.ruleForm.phone).then(function(i){if(200!==i.data.code)return t.$message.error("发送失败，请检查手机号");t.$message.success("发送成功！请查看手机信息")}),this.timer||(this.count=60,this.show=!1,this.timer=setInterval(function(){t.count>0&&t.count<=60?t.count--:(t.show=!0,clearInterval(t.timer),t.timer=null)},1e3))},submitForm:function(t){var i=this;this.$refs[t].validate(function(t){w("/api/login/cellphone?phone="+i.ruleForm.phone+"&captcha="+i.ruleForm.verification).then(function(t){}),t?(i.$message.success("登录成功"),i.$router.push("/home")):i.$message.error("请输入正确的信息")})},resetForm:function(t){this.$refs[t].resetFields()}}},Te={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"status-icon":"",rules:t.rules,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[e("el-input",{attrs:{placeholder:"请输入手机号","prefix-icon":"el-icon-mobile",clearable:""},model:{value:t.ruleForm.phone,callback:function(i){t.$set(t.ruleForm,"phone",i)},expression:"ruleForm.phone"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"验证码",prop:"verification"}},[e("el-col",{attrs:{span:16}},[e("el-input",{attrs:{type:"password","prefix-icon":"el-icon-key",placeholder:"请输入验证码",clearable:""},model:{value:t.ruleForm.verification,callback:function(i){t.$set(t.ruleForm,"verification",i)},expression:"ruleForm.verification"}})],1),t._v(" "),e("el-col",{attrs:{offset:1,span:6}},[e("el-button",{attrs:{disabled:!t.show},on:{click:t.getCode}},[e("span",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[t._v("获取验证码")]),t._v(" "),e("span",{directives:[{name:"show",rawName:"v-show",value:!t.show,expression:"!show"}],staticClass:"count"},[t._v(t._s(t.count)+"s")])])],1)],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:function(i){return t.submitForm("ruleForm")}}},[t._v("登录")]),t._v(" "),e("el-button",{on:{click:function(i){return t.resetForm("ruleForm")}}},[t._v("重置")])],1)],1)],1)},staticRenderFns:[]};var Se=e("VU/8")(xe,Te,!1,function(t){e("KY/j")},"data-v-29cead71",null).exports,De={name:"LoginByEcode",data:function(){return{key:"",imgData:"",EcodeType:"",message:""}},created:function(){this.getEcodeKey()},methods:{getEcodeKey:function(){var t=this;w("/api/login/qr/key").then(function(i){t.key=i.data.data.unikey,t.createEcode()})},createEcode:function(){var t=this;w("/api/login/qr/create?key="+this.key+"&qrimg=true").then(function(i){t.imgData=i.data.data.qrimg,t.checkEcode()})},checkEcode:function(){var t=this;w("/api/login/qr/check?key="+this.key).then(function(i){t.EcodeType=i.data.code,t.message=i.data.message,801===i.data.code||802===i.data.code?t.timer=window.setTimeout(function(){t.checkEcode()},5e3):803===i.data.code&&(t.$message.success("登录成功"),t.$router.push("/home"))})}},beforeDestroy:function(){window.clearTimeout(this.timer)}},Me={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"login-by-ecode mtop-20"},[t._m(0),t._v(" "),e("div",{staticClass:"img-wrap"},[e("img",{staticClass:"img img-h",attrs:{src:t.imgData}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:800===t.EcodeType,expression:"EcodeType === 800"}],staticClass:"btn-refresh pointer",on:{click:t.getEcodeKey}},[e("i",{staticClass:"el-icon-refresh-left"})])]),t._v(" "),e("div",{staticClass:"msg-wrap"},[t._v("状态："+t._s(t.message))])])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"msg-wrap"},[this._v("\n    打开"),i("a",{staticStyle:{"text-decoration":"none",color:"blue"},attrs:{href:"https://music.163.com/#/download",target:"_blank"}},[this._v("网易云音乐手机端")]),this._v("扫码登录\n  ")])}]};var Ue=e("VU/8")(De,Me,!1,function(t){e("2lMs")},"data-v-45f1ad3a",null).exports,Ee={name:"Login",components:{LoginByPhone:Ae,LoginByCode:Se,LoginByEcode:Ue},beforeDestroy:function(){this.$store.dispatch("getAcount")},data:function(){return{currenComponent:"LoginByPhone",activeName:"手机号",Menu:[{label:"手机号",name:"手机号",compoment:Ae},{label:"二维码",name:"二维码",compoment:Ue},{label:"验证码",name:"验证码",compoment:Se}]}},watch:{activeName:function(t){var i=this;this.currenComponent=this.Menu.find(function(t){return t.name===i.activeName}).compoment}}},Fe={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"login"},[e("div",{staticClass:"login-container"},[e("div",{staticClass:"login-wrapper"},[e("span",{staticClass:"title"},[t._v(t._s(t.activeName)+"登录")]),t._v(" "),e("div",{staticClass:"type-btn-wrap type-btn-wrap_active"},[e("el-tabs",{model:{value:t.activeName,callback:function(i){t.activeName=i},expression:"activeName"}},t._l(t.Menu,function(t){return e("el-tab-pane",{key:t.name,attrs:{label:t.label,name:t.name}})}),1)],1),t._v(" "),e(t.currenComponent,{ref:"loginRef",tag:"component"})],1)])])},staticRenderFns:[]};var Ne=e("VU/8")(Ee,Fe,!1,function(t){e("CWEJ")},"data-v-08725252",null).exports;s.default.use(d.a);var $e=new d.a({routes:[{path:"/",name:"MainLayout",component:J,redirect:"/home",children:[{path:"/home",name:"home",component:Et},{path:"/video",name:"video",component:Kt},{path:"/personalfmpage",name:"personalfmpage",component:ii},{path:"/recommendsong",name:"recommendsong",component:ai},{path:"/historyplay",name:"historyplay",component:ri},{path:"/collection",name:"collection",component:Ci},{path:"userdetail/:id",name:"user",component:le,props:!0},{path:"/artistdetail/:id",name:"artist",component:qi,props:!0},{path:"playlistdetail/:id",name:"playlist",component:ee,props:!0},{path:"albumdetail/:id",name:"album",component:ne,props:!0},{path:"videodetail/:type/:id",component:ge,props:!0},{path:"allmv",component:de},{path:"topmv",component:ve},{path:"search/:key",component:_e,props:!0},{path:"/useredit",component:ke},{path:"userdetail/:id",component:le,props:!0}]},{path:"/login",component:Ne}]}),Ve=(e("1V9r"),e("MeBG"),e("h53S"),e("J373"),e("AXdl")),Re=e("Xxa5"),Pe=e.n(Re),qe=e("exGp"),Oe=e.n(qe);s.default.use(a.a);var We={musicData:{},currentMusicInfo:{currentTime:0,nextId:null,lastId:null},likeIdList:[],myPlayList:[],account:{},profile:{},isLogin:"true"===window.sessionStorage.getItem("isLogin"),historyList:window.localStorage.getItem("setHistoryInfo")?JSON.parse(window.localStorage.getItem("setHistoryInfo")):[]},je={getMyPlayList:function(t){var i=t.commit,e=t.state;w("/api/user/playlist",{uid:e.profile.userId,limit:30},function(t){200===t.data.code&&i("setMyPlayList",t.data.playlist)})},getLikeList:function(t){var i=t.commit,e=t.state;w("/api/likelist",{uid:e.profile.userId},function(t){i("setLikeIdList",{type:"add",data:t.data.ids})})},getAcount:function(t){var i=t.commit,e=t.dispatch;w("/api/user/account").then(function(t){console.log(t,"rescount"),null!==t.data.account?(i("setLoginInfo",t.data),i("setIsLogin",!0),e("getMyPlayList"),e("getLikeList")):(i("setLoginInfo",{account:{},profile:{}}),i("setIsLogin",!1),s.default.prototype.$notify({title:"提示",type:"warning",dangerouslyUseHTMLString:!0,message:"<section>本网站不会收集用户信息，点击头像可以登录,建议使用二维码或验证码登录</section>\n                "}))})},logout:function(t){var i=this,e=t.commit;if(!t.state.isLogin)return s.default.prototype.$message.warning("似乎并没有登录");s.default.prototype.$confirm("将要退出登录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Oe()(Pe.a.mark(function t(){return Pe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:w("/api/logout").then(function(t){s.default.prototype.$message.success("退出成功"),e("setLoginInfo",{account:null,profile:null}),e("setIsLogin",!1)});case 1:case"end":return t.stop()}},t,i)}))).catch(function(){s.default.prototype.$message({type:"info",message:"已取消"})})}},Be={setMusicInfo:function(t,i){t.musicData=g()({},t.musicData,i)},setHistoryInfo:function(t,i){var e=t.historyList;if("add"===i.type){if(e.find(function(t){return t.id===i.musicDetail.id}))return;e.push(i.musicDetail)}else"delete"===i.type?e=e.filter(function(t){return t.id!==i.musicDetail.id}):"clear"===i.type&&(e=[]);window.localStorage.setItem("setHistoryInfo",f()(e)),t.historyList=e},setMyPlayList:function(t,i){t.myPlayList=i},setLikeIdList:function(t,i){"add"===i.type?t.likeIdList=i.data:"unshift"===i.type?t.likeIdList.unshift(i.data):"remove"===i.type&&t.likeIdList.splice(t.likeIdList.indexOf(i.data),1)},setIsLogin:function(t,i){t.isLogin=i,i?window.sessionStorage.setItem("isLogin",!0):window.sessionStorage.removeItem("isLogin")},setLoginInfo:function(t,i){t.account=i.account,t.profile=i.profile}},He=new a.a.Store({state:We,actions:je,mutations:Be});C.a.defaults.withCredentials=!0,s.default.config.productionTip=!1,s.default.use(a.a),s.default.use(u.a),s.default.prototype.$md5=l.a,s.default.filter("timeFormat",function(t){if(void 0===t)return 0;var i=parseInt(t/60),e=parseInt(t%60);return e=e<10?"0"+e:e,(i=i<10?"0"+i:i)+":"+e}),s.default.filter("dateFormat",function(t){if(void 0===t)return 0;var i=new Date(t),e=i.getFullYear(),s=i.getMonth()+1,a=i.getDay();return e+"-"+(s=s<10?"0"+s:s)+"-"+(a=a<10?"0"+a:a)}),s.default.use(Ve.a,{preLoad:1,error:e("7hrg"),loading:e("F7NO"),attempt:3}),s.default.filter("mvTopFormat",function(t){if(void 0!==t)return t<10?"0"+t:t}),s.default.filter("countFormat",function(t){return void 0===t?0:t<1e4?t:Math.floor(t/1e4)+"万"}),new s.default({el:"#app",store:He,router:$e,components:{App:o},template:"<App/>"})},NOAj:function(t,i,e){t.exports=e.p+"static/img/top50.89421d5.png"},NnRv:function(t,i){},OyOP:function(t,i){},POpJ:function(t,i){},Pi5x:function(t,i){},PiVG:function(t,i){},SWdA:function(t,i){},T8jN:function(t,i){},Ugry:function(t,i){},Wqzg:function(t,i){},XQnV:function(t,i){},XtvS:function(t,i){},ZeYL:function(t,i){},bWzI:function(t,i){},c9al:function(t,i){},"d/eq":function(t,i){},e4ga:function(t,i){},fTTd:function(t,i){},fliS:function(t,i){t.exports="data:image/png;base64,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"},"gAw+":function(t,i){},h53S:function(t,i){},jcoT:function(t,i){},kuZZ:function(t,i){},lFjT:function(t,i){},"n+N7":function(t,i){},oS60:function(t,i){t.exports={area:[{id:-1,value:"全部"},{id:7,value:"华语"},{id:96,value:"欧美"},{id:8,value:"日本"},{id:16,value:"韩国"},{id:0,value:"其他"}],type:[{id:-1,value:"全部"},{id:1,value:"男歌手"},{id:2,value:"女歌手"},{id:3,value:"乐队"}],initial:[{id:"-1",value:"全部"},{id:"a",value:"A"},{id:"b",value:"B"},{id:"c",value:"C"},{id:"d",value:"D"},{id:"e",value:"E"},{id:"f",value:"F"},{id:"g",value:"G"},{id:"h",value:"H"},{id:"i",value:"I"},{id:"j",value:"J"},{id:"k",value:"K"},{id:"l",value:"L"},{id:"m",value:"M"},{id:"n",value:"N"},{id:"o",value:"O"},{id:"p",value:"P"},{id:"q",value:"Q"},{id:"r",value:"R"},{id:"s",value:"S"},{id:"t",value:"T"},{id:"u",value:"U"},{id:"v",value:"V"},{id:"w",value:"W"},{id:"x",value:"X"},{id:"y",value:"Y"},{id:"z",value:"Z"},{id:0,value:"#"}]}},"p31+":function(t,i){},p5hv:function(t,i){},rpeA:function(t,i){},s2zo:function(t,i){},sBWM:function(t,i){},tlED:function(t,i){},tvR6:function(t,i){},u7Hf:function(t,i){},uG4X:function(t,i){},utPO:function(t,i){},x1BW:function(t,i){},z5vY:function(t,i){},z9Sw:function(t,i){}},["NHnr"]);
//# sourceMappingURL=app.58f5d184a44632f5f5eb.js.map